"use strict";(self.webpackChunkdisco_frontend=self.webpackChunkdisco_frontend||[]).push([[82],{94376:(t,e,i)=>{i.d(e,{updatePlaybackPane:()=>g});var r=i(15593),a=i.n(r),s=i(3846),n=i(31250),o=i(53001),l=i(15593);function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach(function(e){p(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function p(t,e,i){return(e=h(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function h(t){var e=d(t,"string");return"symbol"==typeof e?e:String(e)}function d(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}let g=t=>({type:n.vch,pane:t});o.sm},97237:(t,e,i)=>{i.d(e,{l5:()=>y,qU:()=>g});var r=i(15593),a=i.n(r),s=i(66478),n=i(3846),o=i(31250),l=i(40706);function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach(function(e){p(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function p(t,e,i){return(e=h(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function h(t){var e=d(t,"string");return"symbol"==typeof e?e:String(e)}function d(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function g(t){return e=>{if(!t||0===t.length)return;let i=t.filter(t=>t&&t.type===l.R0);i.length>0&&e({type:o.jQi,data:{artists:i.map(t=>(0,s.Z)(t,["type"]))}});let r=t.filter(t=>t&&t.type===l.zg);r.length>0&&e({type:o.ev7,list:r});let a=t.filter(t=>t&&t.type===l.IK);a.length>0&&e({type:o.JEb,list:a})}}function m(t,e){switch(e.type){case l.R0:return u(u({},t().artists.items[e.id]),{},{type:l.R0});case l.zg:return t().playlists[e.playlist_id];case l.IK:return t().tracks[e.id];default:return e}}function y(t,e,i){return void 0!==i.results&&Array.isArray(i.results)?(t(g(i.results)),u(u({},i),{},{results:i.results.map(t=>m(e,t))})):Array.isArray(i)?(t(g(i)),i.map(t=>m(e,t))):(t(g([i])),m(e,i))}},58907:(t,e,i)=>{i.d(e,{adjustSectionsOnRemovedTrackIndexes:()=>g});var r=i(15593),a=i.n(r),s=i(21920),n=i.n(s),o=i(3846),l=i(15593);function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach(function(e){p(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function p(t,e,i){return(e=h(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function h(t){var e=d(t,"string");return"symbol"==typeof e?e:String(e)}function d(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function g(t,e){if(0===t.sections.length)return t.sections;let i=t.sections.slice(),r=e.sort((t,e)=>e-t);return r.forEach(t=>{i=i.map(e=>e.position>t?u(u({},e),{},{position:e.position-1}):e)}),i}let m=t=>(function(){var e=_coroutine(function*(e,i){let r=i(),a=isFeatureEnabled(r,{featureName:TRACK_NESTING});if(!a)return;let s=getMainTracksIdsForFetch(r,t),n=[...getNestedTracksIdsForFetch(r,t),...s];if(0!==n.length)try{let t=new Api,i=yield t.getExistingObjects(null,null,n),r=Object.values(i.tracks);e(loadBatch(r)),0!==s.length&&e(m(s))}catch(t){e(sendGenericError(t))}});return function(t,i){return e.apply(this,arguments)}})();function y(t,e){return e.groups&&0===e.groups.length&&Sentry.withScope(t=>{t.setExtra("updatedFields",e),Sentry.captureMessage("updateShortlist: shortlist has no groups","warning")}),{type:SHORTLIST_UPDATE,shortlistId:t,result:u(u({},e),{},{saved:!1})}}function b(t,e){return(i,r)=>{let a=r().shortlists.byId[t],{items:s,playlist_id:n}=a,o=e.map(Number),{trackShortlistId:l,trackOriginalId:c}=r().media;if(l===t){let e=o.map(t=>({id:s[t].track.id,index:t})),r=e.find(t=>t.id===c);if(r){let e=-1;for(let t=r.index;t<s.length;t++)if(-1===o.indexOf(t)){e=t;break}i(e>-1?playTrack(s[e].track.id,"in-app",{playlistId:n,shortlistId:t,paneIndex:null}):resetPlaybackState())}}let u=s.filter((t,e)=>-1===o.indexOf(e)),p=f(u);return i(y(t,{items:p,sections:g(a,o)}))}}function f(t){return t.map((t,e)=>u(u({},t),{},{id:e}))}},23508:(t,e,i)=>{i.d(e,{getLoginErrorFromServerResponse:()=>b});var r=i(15593),a=i.n(r),s=i(68945),n=i.n(s),o=i(3846),l=i(15593);function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach(function(e){p(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function p(t,e,i){return(e=h(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function h(t){var e=d(t,"string");return"symbol"==typeof e?e:String(e)}function d(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class g extends Error{constructor(t,e){super(),this.message=e,this.code=t}}function m(t){let e={nativeCategories:{},nativeTags:{}};return t?t.reduce((t,e)=>{let i=t,{id:r,category_id:a,category_name:s}=e;return i.nativeCategories[a]?i.nativeCategories[a].native_tags.push(r):i.nativeCategories[a]={id:a,name:s,native_tags:[r]},i.nativeTags[r]=omit(e,"category_name"),i},e):e}function y(t){switch(t.group_type){case TEAM_LIBRARY:return"Browse";case PERSONAL_LIBRARY:return"Starred";default:return t.name}}let b=t=>{let{reason:e,business_name:i,description:r}=t;if("business_user_inactive_for_long_enough"===e){let t=i?"".concat(i," admin"):"admin";return new g("USER_INACTIVE_FOR_LONG_TIME","Your account has been locked due to inactivity. To have your account unlocked, please contact the ".concat(t," on your DISCO account and if you are eligible, they will confirm to DISCO that your account will be reactivated. If you do not know who your administrator is, please reach out to support@disco.ac."))}let a=(r||"").replace(/'/g,"’");switch(e){case"login_limit_exceeded":new g("LOGIN_LIMIT_EXCEEDED","Account is locked out due to too many invalid login attempts");case"captcha_required":case"captcha_invalid":return new g("CAPTCHA_REQUIRED","We have detected multiple unsuccessful login attempts. To protect your account from brute force attacks, we’ve enabled Captcha. Please check your credentials and try to login again.");case"invalid_mfa_code":return new g("INVALID_MFA_CODE","Code you have entered is invalid, please enter valid code from Google Authenticator");case"client_library_access_requested":return new g("ACCESS_REQUESTED","Access requested. Your request for access has been sent. You’ll receive an email when your access is approved.");case"client_library_awaiting_access":return new g("AWAITING_ACCESS","Awaiting access. You’ll receive an email when your access is approved.");case"login_rate_exceeded":return new g("PASSWORD_INCORRECT",a||"We’ve detected numerous login failures. And as a security precaution we’ve limited login access.");case"plain_login_disabled":return new g("PASSWORD_INCORRECT","Sorry, login with password is disabled.");case"login_invalid":return new g("PASSWORD_INCORRECT","Sorry, either your username or password is incorrect. Please try again.");default:return new g(e,a||"Sorry, either your username or password is incorrect. Please try again.")}};l.resolve();let f=t=>(function(){var e=_coroutine(function*(e){try{let i=new Api,r={};"WITHOUT_REALTIME_TRACK_COUNT"===t?r=null:r.realtime_track_count=1;let a=yield i.getCurrentBusiness(r);return e({type:BUSINESS_DATA_LOAD,result:a})}catch(t){return e(sendGenericError(t))}});return function(t){return e.apply(this,arguments)}})()},5238:(t,e,i)=>{i.d(e,{AX:()=>B,ZP:()=>M});var r=i(15593),a=i.n(r),s=i(21920),n=i.n(s),o=i(6617),l=i(18713),c=i(74871),u=i(82441),p=i(81085),h=i(7855),d=i(61877),g=i(21364),m=i(13245),y=i(95034),b=i(34449);let f=["image","business_address","private_metadata"],_=["id"],v=["image"];function U(t,e){if(null==t)return{};var i,r,a=P(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(a[i]=t[i])}return a}function P(t,e){if(null==t)return{};var i,r,a={},s=Object.keys(t);for(r=0;r<s.length;r++)i=s[r],e.indexOf(i)>=0||(a[i]=t[i]);return a}function k(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function C(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?k(Object(i),!0).forEach(function(e){T(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):k(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function T(t,e,i){return(e=w(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function w(t){var e=O(t,"string");return"symbol"==typeof e?e:String(e)}function O(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}let S=["id","name","email","phone","company","territory","default_pro","default_publisher","pros","publishers","acts","tags","custom_data"],E=t=>{var e,i;let r=(null===(e=t.origin)||void 0===e||null===(e=e.source_library)||void 0===e?void 0:e.id)||"";return C(C({},t),{},{artwork:t.artwork,artwork_sizes:null===(i=t.artwork)||void 0===i?void 0:i.artwork_sizes,internal_data:{is_aggregated_search_track:!0},url:t.url||"/api/aggregated_search/client_library/".concat(r,"/track/").concat(t.id,"/")})},j=t=>t.map(E);function A(t,e){return new(a())((i,r,a)=>{let s=D(t,e).then(t=>i(t)).catch(t=>r(t));return a&&a(()=>{s.cancel()}),s})}let I=[502,403];function D(t,e){return e().then(t=>{if(t&&t.error)throw Error(t.error);return t}).catch(i=>{if(t<=0||I.includes(i.status))throw i;return D(t-1,e)})}let L=t=>t.replace(/\#.*$/,""),N=a().resolve();class x extends y.ZP{constructor(){var t;super(...arguments),t=this,T(this,"stagingEnv",!1),T(this,"getDiscoUpdate",()=>{let t;switch((0,g.RA)()){case"staging":t="https://static.disco-staging-2.com/disco-app/disco-update.json";break;case"prod":t="https://static.disco.ac/disco-app/disco-update.json";break;default:return}return this.getUrl(t,null,"api.getUpdate")}),T(this,"ping",()=>this.getUrl("".concat(this.host,"/ping"),null,"api.ping")),T(this,"getUserDetails",()=>this.getUrl("".concat(this.host,"/api/user/me/"),null,"api.getUserDetails")),T(this,"deleteUser",()=>this.delUrl("".concat(this.host,"/api/user/me/"),"api.deleteUser")),T(this,"updateUserSettings",t=>this.patchUrl("".concat(this.host,"/api/user/me/"),t,"api.updateUserSettings")),T(this,"sendFeedback",t=>{let{message:e}=t;return this.postUrl("".concat(this.host,"/api/redesign-feedback/"),{message:e},"api.sendFeedback")}),T(this,"getPlaylistTags",()=>this.getUrl("".concat(this.host,"/api/playlist_tag/"),null,"api.getPlaylistTags")),T(this,"getPlaylistTypes",()=>this.getUrl("".concat(this.host,"/api/playlisttype/"),null,"api.getPlaylistTypes")),T(this,"getWebsocketParams",t=>this.postUrl("".concat(this.host,"/api/websocket/"),t,"api.getWebsocketParams")),T(this,"sendPasswordRecoveryInstructions",(t,e)=>this.postUrl("".concat(this.host,"/api/user/password_reset/"),{email:t,return:e},"api.sendPasswordRecoveryInstructions")),T(this,"getCustomDownloadUrl",(t,e,i,r)=>this.postUrl("".concat(this.host,"/api/files_selection/"),{object_url:L(t),playlist_version:e,file_formats:i,section_id:r},"api.getCustomDownloadUrl")),T(this,"getPlaylistFromPublicPage",t=>this.getUrl("".concat(this.host,"/api/publicplaylist/"),{public_url:t})),T(this,"searchForDuplicates",t=>this.getUrl("".concat(this.host,"/api/search/"),{filename:t.filename,filters:JSON.stringify({Title:{value:t.title},Artist:{value:t.artist},Album:{value:t.album}}),exact:"1",type:"track"},"api.searchForDuplicates")),T(this,"uploadDropboxFiles",(t,e,i)=>this.postUrl("".concat(this.host,"/upload-api/dropbox/"),{shortlist_id:t,upload_id:e,files:i})),T(this,"cancelDropboxFileUpload",t=>this.delUrl("".concat(this.host,"/upload-api/dropbox/").concat(t,"/"),"api.cancelDropboxFileUpload")),T(this,"getNotifications",()=>this.getUrl("".concat(this.host,"/api/notification/?read=0"),null,"api.getNotifications")),T(this,"dismissNotification",t=>this.putUrl(t.api_url,C(C({},t),{},{is_read:!0}),"api.dismissNotification")),T(this,"dismissAllNotifications",t=>this.postUrl("".concat(this.host,"/api/notification/mark_all_read/"),{group_ids:t},"api.dismissAllNotifications")),T(this,"getUserLogout",()=>(this.csrfToken=null,this.jwtToken=null,this.postUrl("".concat(this.host,"/api-auth/logout/"),{device_token:this.deviceToken},"api.getUserLogout"))),T(this,"getMetadataKeys",()=>this.getUrl("".concat(this.host,"/api/metadata-keys/"),null,"api.getMetadataKeys")),T(this,"saveArtworkAlias",(t,e)=>this.putUrl("".concat(this.host,"/api/playlistversion/").concat(t,"/artwork_alias/"),null,"api.saveArtworkAlias",{attachments:[{field:"artwork",file:e,filename:e.name}]})),T(this,"deletePlaylistVersion",t=>this.delUrl("".concat(this.host,"/api/playlistversion/").concat(t,"/"),"api.deletePlaylistVersion")),T(this,"getPlaylistZipUrls",t=>{let{playlist_zip_urls:e}=t;return e?this.getUrl(e,null,"api.getPlaylistZipUrls"):a().resolve({})}),T(this,"similarTracksRequests",{}),T(this,"aggregatedSimilarTracksRequests",{}),T(this,"sendEmbedPlayEvent",()=>{o.Z.set("embed_playback",y.nc),window.parent.postMessage("disco_play_track, source: ".concat(y.nc),"*")}),T(this,"sendPlaylistAccessEvent",(t,e,i)=>this.sendPlaylistEvent("access_playlist",t,e,i)),T(this,"sendPlaylistDownloadEvent",(t,e,i,r,a,s)=>this.sendPlaylistEvent("download_zip",t,e,i,r,a,s)),T(this,"deleteTheme",t=>this.delUrl(t.url,"api.deleteTheme")),T(this,"getThemes",t=>this.getUrl(t||"".concat(this.host,"/api/playlisttheme/"),null,"api.getThemes").then(t=>({themes:t.results,next:t.next}))),T(this,"getEmailGroups",(t,e)=>this.getUrl("".concat(this.host,"/api/savedrecipients/"),{count:t,offset:e},"api.getEmailGroups")),T(this,"deleteEmailGroup",t=>this.delUrl("".concat(this.host,"/api/savedrecipients/").concat(t.id,"/"),"api.deleteEmailGroup")),T(this,"createEmailGroup",t=>this.postUrl("".concat(this.host,"/api/savedrecipients/"),t,"api.createEmailGroup")),T(this,"updateEmailGroup",t=>this.patchUrl("".concat(this.host,"/api/savedrecipients/").concat(t.id,"/"),t,"api.updateEmailGroup")),T(this,"alterRecipients",(t,e,i)=>this.postUrl("".concat(this.host,"/api/savedrecipients/alter_recipients/"),{savedrecipients_ids:[t],add_contact_ids:e,remove_contact_ids:i},"api.alterRecipients")),T(this,"getNextGroups",function(){var e=(0,r.coroutine)(function(e){let{results:i,next:r}=e;return function*(){let e=yield t.getUrl(r,null,"api.getNextGroups");return e.next?t.getNextGroups({results:[...i,...e.results],next:e.next}):[...i,...e.results]}()});return function(t){return e.apply(this,arguments)}}()),T(this,"getGroups",function(){var e=(0,r.coroutine)(function*(e){let i=yield t.getUrl("".concat(t.host,"/api/group/"),e?{since:e}:null,"api.getGroups"),r=i.results;if(i.next&&!e){let e=yield t.getNextGroups(i);r=e}return r});return function(t){return e.apply(this,arguments)}}()),T(this,"getGroup",t=>this.getUrl("".concat(this.host,"/api/group/").concat(t,"/"),null,"api.getGroup")),T(this,"deleteGroup",t=>this.delUrl("".concat(this.host,"/api/group/").concat(t.id,"/"),"api.deleteGroup")),T(this,"createGroup",t=>this.postUrl("".concat(this.host,"/api/group/"),t,"api.createGroup")),T(this,"updateGroup",t=>this.patchUrl("".concat(this.host,"/api/group/").concat(t.id,"/"),t,"api.updateGroup")),T(this,"shareGroup",(t,e)=>this.postUrl("".concat(this.host,"/api/group/").concat(t,"/share/"),e,"api.shareGroup")),T(this,"getCurrentBusiness",t=>this.getUrl("".concat(this.host,"/api/business/current/"),t,"api.getCurrentBusiness")),T(this,"getCurrentBusinessPublic",()=>this.getUrl("".concat(this.host,"/api/business/current/public/"),null,"api.getCurrentBusinessPublic")),T(this,"getCurrentBusinessSubscription",()=>this.getUrl("".concat(this.host,"/api/business/current/subscription/"),null,"api.getCurrentBusinessSubscription")),T(this,"getEventsByType",t=>this.getUrl("".concat(this.host,"/api/user_event/"),{type:t},"api.getEventsByType").then(t=>t.results)),T(this,"sendEvent",t=>this.postUrl("".concat(this.host,"/api/user_event/"),t,"api.sendEvent")),T(this,"getPlaylistStats",t=>this.getUrl("".concat(this.host,"/api/customer_stats/playlists/"),{playlistversion_id:t},"api.getPlaylistStats")),T(this,"getProductUpdates",()=>this.getUrl("".concat(this.host,"/api/product_update/"),null,"api.getProductUpdates").then(t=>({items:t.results,next:t.next}))),T(this,"deleteContactNote",t=>this.delUrl("".concat(this.host,"/api/contact_note/").concat(t,"/"),"api.deleteContactNote")),T(this,"updateContactNote",(t,e,i)=>this.putUrl("".concat(this.host,"/api/contact_note/").concat(e,"/"),{contact:t,content:i},"api.updateContactNote")),T(this,"exportMailingList",t=>this.getUrl("".concat(this.host,"/api/savedrecipients/").concat(t,"/export/"),null,"api.exportMailingList")),T(this,"getWriters",(t,e,i)=>this.getUrl("".concat(this.host,"/api/v2/contact/"),{tags:"Writer,Artist",count:e,q:t,ids:i,include_deleted:0,exact_name_match:1},"api.getWriters")),T(this,"getPRO",()=>this.getUrl("".concat(this.host,"/api/pro/"),null,"api.getPRO")),T(this,"addPro",t=>this.postUrl("".concat(this.host,"/api/pro/"),{name:t},"api.addPro")),T(this,"getPublishers",()=>this.getUrl("".concat(this.host,"/api/publisher/"),null,"api.getPublisher")),T(this,"addPublisher",t=>this.postUrl("".concat(this.host,"/api/publisher/"),{name:t},"api.addPublisher")),T(this,"addTrackWriter",t=>this.postUrl("".concat(this.host,"/api/v2/track_writer/"),t,"api.addTrackWriter")),T(this,"deleteWriterSplit",t=>this.delUrl("".concat(this.host,"/api/v2/track_writer/").concat(t,"/"),"api.deleteTrackWriterSplit")),T(this,"updateWriterSplit",(t,e)=>this.putUrl("".concat(this.host,"/api/v2/track_writer/").concat(t,"/"),e,"api.updateWriterSplit")),T(this,"revokeChannelShare",t=>this.postUrl("".concat(this.host,"/api/group/").concat(t,"/share_revoke/"),null,"api.revokeChannelShare")),T(this,"getChargifyFormParams",t=>this.getUrl("".concat(this.host,"/api/chargify-secure/").concat(t,"/"),null,"getChargifyFormParams")),T(this,"chargifyRestartSubscription",t=>this.postUrl("".concat(this.host,"/api/chargify-secure/restart_subscription/"),t,"api.chargifyReSubscribe")),T(this,"syncShortlistsState",t=>this.postUrl("".concat(this.host,"/api/shortlist/"),t,"api.syncShortlistsState")),T(this,"getServerTimeUrl",()=>"".concat(this.host,"/api/current_datetime/")),T(this,"requireData",t=>{let e=Object.keys(t),i=e.map(e=>"contacts"===e&&t[e].length>0?a().all(t[e].map(t=>this.getContactDetails(t))):"tracks"===e&&t[e].length>0?a().all(t[e].map(t=>this.getTrack(t))):"artists"===e&&t[e].length>0?a().all(t[e].map(t=>this.getArtist(t))):a().reject(Error("Unknown data object key: ".concat(e)))).filter(Boolean);if(!i.length){let t=Error("Invalid param, please provide object with list of objects to load");return a().reject(t)}return a().all(i).then(t=>{let i={};return t.forEach((t,r)=>{i[e[r]]=t}),i})}),T(this,"createMfaAuthMethod",t=>this.postUrl("".concat(this.host,"/api/user-authentication-method/"),{method:t},"api.createMfaAuthMethod")),T(this,"getMfaAuthMethods",()=>this.getUrl("".concat(this.host,"/api/user-authentication-method/"),null,"api.getMfaAuthMethods").then(t=>t.results)),T(this,"validateMfaCode",(t,e)=>this.postUrl("".concat(this.host,"/api/user-authentication-method/").concat(t,"/verify/"),{mfa_code:e},"api.validateMfaCode")),T(this,"getConstants",()=>this.getUrl("".concat(this.host,"/api/constants/"),null,"api.getConstants").then(t=>t)),T(this,"postSummaryChargifyForm",t=>this.postUrl("".concat(this.host,"/api/chargify-secure/preview_subscription/"),t,"api.postSummaryChargifyForm")),T(this,"getChargifyComponent",t=>this.getUrl("".concat(this.host,"/api/chargify_component/"),t,"api.getChargifyComponent")),T(this,"previewAllocateComponent",t=>this.postUrl("".concat(this.host,"/api/chargify-secure/preview_component_allocation/"),t,"api.previewAllocateComponent")),T(this,"updateAllocateComponent",t=>this.postUrl("".concat(this.host,"/api/chargify-secure/update_component_allocation/"),t,"api.updateComponentAllocation")),T(this,"previewComponentCost",t=>this.postUrl("".concat(this.host,"/api/chargify-secure/preview_component_cost/"),t,"api.previewComponentCost")),T(this,"createSubscriptionChargifyForm",t=>this.postUrl("".concat(this.host,"/api/chargify-secure/create_subscription/"),t,"api.postChargifyCreateSubscription")),T(this,"getLeakTraces",t=>this.getUrl("".concat(this.host,"/api/watermarking_leak_trace/"),t,"api.getLeakTraces")),T(this,"postLeakTraces",t=>this.postUrl("".concat(this.host,"/api/watermarking_leak_trace/"),t,"api.postLeakTraces")),T(this,"createPaymentProfileChargifyForm",t=>this.postUrl("".concat(this.host,"/api/chargify-secure/update_subscription/"),t,"api.createPaymentProfileChargifyForm")),T(this,"updateSubscriptionCustomer",t=>this.postUrl("".concat(this.host,"/api/chargify-secure/update_subscription_customer/"),t,"api.updateSubscriptionCustomer")),T(this,"getChargifyComponents",()=>this.getUrl("".concat(this.host,"/api/chargify_component/"),null,"api.getChargifyComponents")),T(this,"getRewindReport",()=>this.getUrl("".concat(this.host,"/api/disco_rewind/"),null,"api.getRewindReport")),T(this,"getGeoIP",()=>this.getUrl("".concat(this.host,"/api/geoip/"),null,"api.getGeoIP")),T(this,"acceptCookies",t=>this.postUrl("".concat(this.host,"/api/cookie_consent/"),t,"api.acceptCookies")),T(this,"preloadHlsManifest",t=>this.getUrl(t,null,"api.prefetchHlsManifest",{headers:{Accept:"*/*"}})),T(this,"sendSimilarityFeedback",t=>this.postUrl("".concat(this.host,"/api/similarity_search/feedback/"),t,"api.sendSimilarityFeedback"))}queueCall(t){return N=N.catch(()=>{N=a().resolve()}).then(t)}switchEnvironment(){this.stagingEnv=!this.stagingEnv}retryCall(t){return A(4,t)}getCSRFToken(){return g.iU?a().resolve(""):this.getUrl("".concat(this.host,"/api/csrftoken/"),null,"api.getCSRFToken").then(t=>(this.csrfToken=t,t))}updateBusinessSettings(t,e){var i=this;return(0,r.coroutine)(function*(){let{image:r,business_address:a,private_metadata:s}=t,n=U(t,f);s&&(yield i.postUrl("".concat(i.host,"/api/business/current/update_metadata/"),s,"api.updateBusinessSettings"));let o={fields:{},progressEvent:t=>{e&&e(t.percent)}};return null===r?o.fields=C(C({},o.fields),{},{image:"null"}):r&&(o.attachments=[{field:"image",file:r,filename:r.name}]),void 0!==a&&(o.fields=C(C({},o.fields),{},{business_address:JSON.stringify(a)})),Object.keys(n).forEach(t=>{let e=n[t];null===e?o.fields=C(C({},o.fields),{},{[t]:""}):void 0!==e&&(o.fields=C(C({},o.fields),{},{[t]:e}))}),i.patchUrl("".concat(i.host,"/api/business/current/"),null,"api.updateBusinessSettings",o)})()}createPlaylistTag(t){return this.postUrl("".concat(this.host,"/api/playlist_tag/"),{name:t},"api.createPlaylistTag")}editPlaylistTag(t){return this.patchUrl("".concat(this.host,"/api/playlist_tag/").concat(t.id,"/"),t,"api.editPlaylistTag")}deletePlaylistTag(t){return this.delUrl("".concat(this.host,"/api/playlist_tag/").concat(t,"/"),"api.deletePlaylistTag")}getBusinessesAnonymously(t){return this.postUrl("".concat(this.host,"/api/add_to_disco/list_businesses/"),t,"api.getBusinessesAnonymously")}addToDisco(t,e,i){return this.postUrl("".concat(this.host,"/api/add_to_disco/"),C(C({object_url:L(t)},e),{},{client_library_id:i}),"api.addToDisco")}saveToDiscoCustomer(t){return this.postUrl("".concat(this.host,"/api/widgets_api/save_to_disco_customer/begin_transfer/?token=").concat(t),null,"api.saveToDiscoCustomer")}sendPlaylist(t,e){return this.postUrl(t,e)}getUploadPolicy(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"PRESIGNED_POST",i=new Date().getTime(),r=Math.round(1e7*Math.random()),a=t?"".concat(t).concat(-1===t.indexOf("?")?"?":"&","timestamp=").concat(i,"-").concat(r):null;return a&&!a.includes(e)&&(a+="&policy_type=".concat(e)),this.getUrl(a||"".concat(this.host,"/upload-api/tracks/upload-policy-v2/?timestamp=").concat(i,"-").concat(r,"&policy_type=").concat(e),null,"api.getUploadPolicy")}uploadToS3(t,e,i,r,a){return this.postUrl(t.url,null,"api.uploadToS3",{skipAuth:!0,fields:t.fields,attachments:[{field:"file",file:e}],progressEvent:t=>{let e=t.target,{readyState:s,status:n}=e;t.lengthComputable&&r&&r(C(C({},i),{},{progress:t.percent})),4===s&&(n<200||n>=400)&&a&&a(i)}})}getUploadResult(t,e,i,r,a){return this.postUrl(i||"".concat(this.host,"/upload-api/tracks/"),{s3_key:t,transcode:r,original_fn:e,filesize:a})}getExistingObjects(t,e,i){var r,s,n,o;let{host:c}=this,u=g.iU?null:{skipClientIdentification:!0};if(0===i.length&&((null!==(r=null==t?void 0:t.length)&&void 0!==r?r:0)>0||(null!==(s=null==e?void 0:e.length)&&void 0!==s?s:0)>0))return this.postUrl("".concat(c,"/api/refresh/"),{playlist_ids:t||[],playlistversion_ids:e||[]},"api.getExistingObjects",u);if(i.length>0){let r=[];for(let t=0;t<i.length;t+=400)r.push(i.slice(t,t+400));return a().all([(null!==(n=null==t?void 0:t.length)&&void 0!==n?n:0)>0||(null!==(o=null==e?void 0:e.length)&&void 0!==o?o:0)>0?this.postUrl("".concat(c,"/api/refresh/"),{playlist_ids:t||[],playlistversion_ids:e||[]},"api.getExistingObjects",u):null,a().mapSeries(r,(t,e)=>this.postUrl("".concat(c,"/api/refresh/"),{track_ids:t},"api.getExistingObjects",u))]).then(t=>{let[e,i]=t,r={};return(0,l.Z)(r,e,...i),r})}return a().resolve({tracks:{},playlists:{}})}emailReferralInvitation(t,e){return this.postUrl("".concat(this.host,"/api/email_referral_invitation/"),{emails:t,message:e},"api.emailReferralInvitation")}getPlaylistShares(t){return this.getUrl("".concat(this.host,"/api/playlist/").concat(t,"/share/"),null,"api.getShares")}disablePlaylistShare(t){return this.postUrl("".concat(this.host,"/api/share/").concat(t,"/disable/"),null,"api.disablePlaylistShare")}enablePlaylistShare(t){return this.postUrl("".concat(this.host,"/api/share/").concat(t,"/enable/"),null,"api.enablePlaylistShare")}shorturl(t){let e=t.map(t=>({url:t}));return this.postUrl("".concat(this.host,"/api/shorturl/"),e,"shorten").then(t=>t.map(t=>t.short_url))}playlistImplicitShare(t){return this.postUrl("".concat(this.host,"/api/playlist_implicit_share/"),{playlist_id:t},"api.playlistImplicitShare")}getEmbeddedPlaylistUrl(t,e){return this.getUrl("".concat(this.host,"/api/playlist/").concat(t,"/embed_url/"),e,"api.getEmbeddedPlaylistUrl")}getEmbeddedTrackUrl(t,e){return this.getUrl("".concat(this.host,"/api/track/").concat(t,"/embed_url/"),e,"api.getEmbeddedTrackUrl")}emailPlaylist(t){let{id:e}=t,i=U(t,_);return this.postUrl("".concat(this.host,"/api/playlist/").concat(e,"/share/"),C({},i),"api.emailPlaylist")}getCampaigns(){return this.getUrl("".concat(this.host,"/api/campaign/"),null,"api.getCampaigns")}getCampaign(t){return this.getUrl("".concat(this.host,"/api/campaign/").concat(t,"/"),null,"api.getCampaign")}getCampaignStats(t,e){return this.getUrl("".concat(this.host,"/api/campaign/").concat(t,"/stats/"),e?{full:1}:null,"api.getCampaignStats")}createCampaign(t){return this.postUrl("".concat(this.host,"/api/campaign/"),t,"api.createCampaigns")}updateCampaign(t,e){return this.patchUrl("".concat(this.host,"/api/campaign/").concat(t,"/"),e,"api.updateCampaign")}sendTestCampaign(t,e,i){return this.postUrl("".concat(this.host,"/api/campaign/").concat(t,"/test_send/"),{emails:e,mock_data:i},"api.sendTestCampaign")}sendCampaign(t){return this.postUrl("".concat(this.host,"/api/campaign/").concat(t,"/send/"),null,"api.sendCampaign")}validateDomain(t){return this.postUrl("".concat(this.host,"/api/campaign/validate_domain/"),{domain_address:t},"api.validateDomain")}deleteCampaign(t){return this.delUrl("".concat(this.host,"/api/campaign/").concat(t,"/"),"api.deleteCampaign")}uploadEmailImage(t){return this.postUrl("".concat(this.host,"/api/uploaded_image/"),null,"api.uploadEmailImage",{fields:{target:"campaign"},attachments:[{field:"image",file:t,filename:t.name}]})}getCampaignFooters(){return this.getUrl("".concat(this.host,"/api/campaign_footers/"),null,"api.getCampaignFooters")}createCampaignFooter(t){return this.postUrl("".concat(this.host,"/api/campaign_footers/"),t,"api.createCampaignFooter")}updateCampaignFooter(t,e){return this.putUrl("".concat(this.host,"/api/campaign_footers/").concat(t,"/"),e,"api.updateCampaignFooter")}deleteCampaignFooter(t){return this.delUrl("".concat(this.host,"/api/campaign_footers/").concat(t,"/"),"api.deleteCampaignFooter")}campaignUnsubscribe(t,e,i,r){return this.postUrl("".concat(this.host,"/api/unsubscribe/"),{em:t,cp:e,sr:i,resubscribe:r?1:void 0},"api.campaignUnsubscribe")}campaignCheckUnsubscribe(t){return this.postUrl("".concat(this.host,"/api/unsubscribe/hello/"),{em:t},"api.campaignCheckUnsubscribe")}postUserAuth(t){return g.iU?this.postUrl("".concat(this.host,"/api-auth/token-auth/"),t,"api.postUserAuthJWT"):t.saml?this.postUrl("".concat(this.host,"/api-auth/saml-login-welcome/"),t,"api.postUserAuthSAML"):this.postUrl("".concat(this.host,"/api-auth/login/"),t,"api.postUserAuth")}multiAccountLogin(t){return this.postUrl(this.stagingEnv?"https://auth.disco-staging-2.com/api-auth/global-login/":"https://auth.disco.ac/api-auth/global-login/",C(C({},t),{},{is_jwt_auth:!0,device_token:this.deviceToken}),"api.postUserAuth",{skipAuth:!0})}fetchUserMemberships(){return this.getUrl(this.stagingEnv?"https://auth.disco-staging-2.com/api/business/membership/":"https://auth.disco.ac/api/business/membership/",null,"api.fetchUserMemberships")}mobileSendPasswordRecoveryInstructions(t){return this.postUrl(this.stagingEnv?"https://auth.disco-staging-2.com/api/user/password_reset/":"https://auth.disco.ac/api/user/password_reset/",{email:t},"api.sendPasswordRecoveryInstructions")}checkLoginUrl(t){return this.postUrl("".concat(this.host,"/api-auth/check-login-url/"),{referer:t},"api.checkLoginUrl")}changePassword(t,e){return this.patchUrl("".concat(this.host,"/api/user/me/"),{new_password:t,old_password:e},"api.changePassword")}getSearchResults(t,e,i){let{includeBlankEmails:r,hideBusinesses:a}=i;return r||(r=void 0),a||(a=void 0),this.getUrl("".concat(this.host,"/api/user_search/"),{q:e,type:t,include_blank_emails:r,hide_businesses:a},"api.getSearchResults").then(e=>{if("share"!==t)return e;let i=[];return e.forEach(t=>{"saved"!==t.type&&i.push(t);let{businesses:e,recipients:r}=t;if(e&&r&&e.length>0){let a=r.map(t=>{if(t.business_ids&&t.business_ids.length>0){let i=e.filter(e=>t.business_ids.indexOf(e.id)>-1);return C(C({},t),{},{businesses:i})}return t});i.push(C(C({},t),{},{recipients:a}))}}),i})}getSearchResultsByQuery(t,e,i){return e.simSearch?this.getSimilarTracks(null,e.simSearch.url,i):this.getUrl("".concat(this.host,"/api/search/"),e,"api.getSearchResultsByQuery",{headers:C({Accept:"application/json"},t?{"X-Disco-GroupIDs":JSON.stringify(t)}:{})})}getAggregatedSearchResultsByQuery(t){return this.getUrl("".concat(this.host,"/api/aggregated_search/"),t,"api.getAggregatedSearchResultsByQuery").then(t=>C(C({},t),{},{results:j(t.results)}))}getAggregatedTrackByUrl(t){return this.getUrl(t,null,"api.getAggregatedTrackByUrl").then(E)}getAggregatedSearchResultsByNextUrl(t){return this.getUrl(t,null,"api.getAggregatedSearchResultsByNextUrl").then(t=>C(C({},t),{},{results:j(t.results)}))}getAggregatedSearchTrack(t,e){return this.getUrl("/api/aggregated_search/client_library/".concat(e,"/track/").concat(t,"/"),null,"api.getAggregatedSearchTrack").catch(()=>null)}getAggregatedSearchBatchTracks(t){return a().all(t.map(t=>{let{track_id:e,client_library_id:i}=t;return this.getAggregatedSearchTrack(e,i)})).then(t=>({results:j(t.filter(Boolean))}))}savePlaylist(t){return this.postUrl("".concat(this.host,"/api/playlistversion/"),t,"api.savePlaylist").then(e=>{if(t.playlist_aliases&&t.playlist_aliases.Artwork&&"object"==typeof t.playlist_aliases.Artwork.value){let{include:i,value:r}=t.playlist_aliases.Artwork;if(i&&r&&r.name)return this.saveArtworkAlias(e.id,r).then(()=>e)}return e})}getPlaylistBaseObj(t){return this.getUrl("".concat(this.host,"/api/playlist/").concat(t,"/"),null,"api.getPlaylistBaseObj")}updatePlaylistBaseObj(t,e){return this.patchUrl("".concat(this.host,"/api/playlist/").concat(t,"/"),e,"api.updatePlaylistBaseObj")}updatePlaylist(t,e,i){let{image:r}=e,a=U(e,v),s={fields:{},progressEvent:t=>{i&&i(t.percent)}};return null===r?s.fields=C(C({},s.fields),{},{image:""}):r&&(s.attachments=[{field:"image",file:r,filename:r.name}]),Object.keys(a).forEach(t=>{let e=a[t];null===e?s.fields=C(C({},s.fields),{},{[t]:""}):void 0!==e&&(s.fields=C(C({},s.fields),{},{[t]:e}))}),this.patchUrl("".concat(this.host,"/api/playlist/").concat(t,"/"),null,"api.updatePlaylist",s)}batchUpdatePlaylists(t,e){return this.postUrl("".concat(this.host,"/api/playlist/batch_update/"),{playlist_ids:t,data:e},"api.batchUpdatePlaylists")}searchPlaylistsWithTrackArtworks(t,e){return this.getUrl("".concat(this.host,"/api/search/"),{playlist_type:e,q:t,return_tracks_artworks:1,type:"playlist"},"api.searchPlaylists")}changePlaylistTheme(t,e){return this.patchUrl("".concat(this.host,"/api/playlistversion/").concat(t.id,"/"),{theme:e?e.url:null},"api.changePlaylistTheme")}alterTrackGroups(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.postUrl("".concat(this.host,"/api/track/alter_groups/"),{track_ids:t.map(t=>t.id),add_group_ids:e.map(t=>t.id),remove_group_ids:i.map(t=>t.id)},"api.alterTrackGroups")}importInboxTracks(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;return this.postUrl("".concat(this.host,"/api/track/inbox_import/"),{track_ids:t.map(t=>t.id),add_group_ids:e.map(t=>t.id),remove_group_ids:i.map(t=>t.id),include_stems:r},"api.importInboxTracks")}alterPlaylistGroups(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.postUrl("".concat(this.host,"/api/playlist/alter_groups/"),{playlist_ids:t.map(t=>t.playlist_id),add_group_ids:e.map(t=>t.id),remove_group_ids:i.map(t=>t.id),alter_tracks:r||void 0},"api.alterPlaylistGroups")}importInboxPlaylists(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0;return this.postUrl("".concat(this.host,"/api/playlist/inbox_import/"),{playlist_ids:t.map(t=>t.playlist_id),add_group_ids:e.map(t=>t.id),remove_group_ids:i.map(t=>t.id),alter_tracks:r||void 0,include_stems:a},"api.importInboxPlaylists")}removeTracksFromBrowse(t){return this.delUrl("".concat(this.host,"/api/track/groups/"),"api.removeTracksFromBrowse",{track_ids:t})}removePlaylistsFromBrowse(t){return this.delUrl("".concat(this.host,"/api/playlist/groups/"),"api.removePlaylistsFromBrowse",{playlist_ids:t})}mergeTracks(t,e,i){let{host:r}=this;return this.postUrl("".concat(r,"/api/track/").concat((null==t?void 0:t.id)||"","/merge/"),{track_ids:null==e?void 0:e.map(t=>t.id),lossless_id:i?i.id:void 0},"api.mergeTracks")}getTrack(t){return this.getUrl("".concat(this.host,"/api/track/").concat(t,"/"),null,"api.getTrack")}getNestedTracks(t,e){return this.getUrl("".concat(this.host,"/api/track/").concat(t,"/nested_tracks/"),{label:e},"api.getNestedTracks")}getDownloadableTrackMetadata(t){return this.getUrl("".concat(this.host,"/api/track/").concat(t,"/downloadable_metadata/"),null,"api.getDownloadableTrackMetadata")}createInstantInstrumental(t){return this.postUrl("".concat(this.host,"/api/instant_instrumental/"),{track_ids:t},"api.createInstantInstrumental")}getSimilarTracks(t,e,i){let r=n()();return this.postUrl("".concat(this.host,"/api/similarity_search/tracks/"),{track_id:t||void 0,url:e||void 0,request_id:r,aggregated_search:i},"api.getSimilarTracks").then(()=>new(a())((t,e)=>{i?this.aggregatedSimilarTracksRequests[r]={resolve:t,reject:e}:this.similarTracksRequests[r]={resolve:t,reject:e},setTimeout(()=>e(Error("Similar tracks request timed out")),12e4)}).finally(()=>{delete this.similarTracksRequests[r],delete this.aggregatedSimilarTracksRequests[r]}))}getTrackWaveform(t){return this.getUrl("".concat(this.host,"/api/track/").concat(t,"/waveform/"),null,"api.getTrackWaveform").then(t=>{let{error:e}=t;if(!e)return t;throw Error("Error: "+e)})}diagnoseLibraryMembership(t,e){return this.getUrl("".concat(this.host,"/api/client_library/").concat(t,"/track/").concat(e,"/diagnose_library_membership/"),null,"api.diagnoseLibraryMembership")}sendTrackEvent(t,e,i,r){let{host:a}=this,s="",n=r.client_library_id;return n&&(s+="?client_library_id=".concat(n)),"embed"===i&&"play_track"===t&&window.parent&&this.sendEmbedPlayEvent(),this.postUrl("".concat(a,"/api/track/").concat(e,"/event/")+s,C(C({event_name:t},(0,c.Z)(r,t=>null===t)),{},{event_source:i,user_id:window.user_id}),"api.sendTrackEvent").catch(t=>{(0,b.Z)(t,"api.sendTrackEvent")})}sendTrackPlaybackEvent(t,e,i){this.sendTrackEvent("play_track",t,e,i)}sendTrackDownloadEvent(t,e,i){this.sendTrackEvent("download_track",t,e,i)}sendPlaylistEvent(t,e,i,r,a,s,n){let{host:o}=this;return this.postUrl("".concat(o,"/api/playlist/").concat(e,"/event/").concat(n?"?client_library_id=".concat(n):""),{event_name:t,share_id:i,group_id:r,campaign_id:a,recipient_id:s,user_id:window.user_id},"api.sendPlaylistEvent").catch(t=>{(0,b.Z)(t,"api.sendPlaylistEvent")})}updateTrackMetadata(t,e){let i=g.iU?void 0:{skipClientIdentification:!0};return this.putUrl("".concat(this.host,"/api/track/").concat(t,"/metadata/"),e,"updateTrackMetadata",i)}updatePlaylistMetadata(t,e){return this.patchUrl("".concat(this.host,"/api/playlistversion/").concat(t.id,"/"),e,"api.updatePlaylistMetadata")}getPlaylistPage(t){return this.getUrl(t,null,"api.getPlaylistPage")}getPlaylist(t,e,i){let{versions:r,url:a}=t,s=r?r[0]:a;return s+="?tracks_page_size=".concat(e.pageSize)+(e.territories?"&territory_ids=".concat(JSON.stringify(e.territories)):"")+(e.includeNestedTracks?"&include_nested_tracks=1":""),this.getUrl(s,null,i)}getFullPlaylist(t,e){return this.getPlaylist(t,{pageSize:1e4,territories:e,includeNestedTracks:!0},"api.getFullPlaylist")}getPublicPlaylistByPlaylistId(t){let{versions:e,url:i}=t,r=e?e[0]:i;return this.getUrl(r,{public:1},"getPublicPlaylistByPlaylistId")}getPlaylistParams(t){return this.getPlaylist(t,{pageSize:1},"api.getPlaylistParams")}getPlaylistVersionsByPlaylistId(t){return this.getUrl("".concat(this.host,"/api/playlist/").concat(t,"/"),null,"api.getPlaylistVersionsByPlaylistId")}getLastPlaylistVersionByPlaylistId(t,e){return this.getPlaylistVersionsByPlaylistId(t).then(t=>{let{versions:i}=t;if(i&&i.length>0)return this.getUrl(i[0].url,e);{let t=new y.oo("Playlist not found.",404,{});throw t}})}updateTrackArtwork(t,e,i){let r=null!==e?{attachments:[{field:"new_artwork",file:e,filename:e.name}],fields:{}}:{fields:{new_artwork:"null"}};return i||(r.fields=C(C({},r.fields),{},{override_album_artwork:!1})),this.patchUrl("".concat(this.host,"/api/track/").concat(t,"/"),null,"api.updateTrackArtwork",r)}addTrackComment(t){return this.postUrl("".concat(this.host,"/api/trackcomment/"),t,"api.addTrackComment")}editTrackComment(t){return this.putUrl("".concat(this.host,"/api/trackcomment/").concat(t.id,"/"),t,"api.editTrackComment")}deleteTrackComment(t){return this.delUrl("".concat(this.host,"/api/trackcomment/").concat(t,"/"),"api.deleteTrackComment")}sortPlaylistTracks(t,e,i){return this.postUrl("".concat(this.host,"/api/playlistversion/").concat(t.id,"/sort/"),{key:e,direction:i},"api.sortPlaylistTracks")}showcaseOverrideImage(t,e){let i={};return e.forEach(t=>{let{field:e,file:r}=t;r||(i[e]="null")}),this.patchUrl("".concat(this.host,"/api/playlistversion/").concat(t,"/showcase_override_image/"),null,"api.showcaseOverrideImage",{attachments:e,fields:i})}bulkGetTracksMetadata(t){return this.postUrl("".concat(this.host,"/api/track/metadata/"),{track_ids:t.map(t=>t.id)})}bulkSaveTrackComment(t,e){return this.postUrl("".concat(this.host,"/api/track/batch_comment/"),C(C({},t),{},{track_ids:e}),"api.bulkSaveTrackComment")}bulkUpdateTrackMetadata(t,e){return this.postUrl("".concat(this.host,"/api/track/batch_metadata_edit/"),C(C({},e),{},{track_ids:t}),"api.bulkUpdateTrackMetadata")}tracksBatchUpdate(t){return this.postUrl("".concat(this.host,"/api/track/batch_update/"),t,"api.tracksBatchUpdate")}batchUpdateTrackArtwork(t,e){let i={fields:{track_ids:"[".concat(t.join(","),"]")}};return null!==e?i.attachments=[{field:"new_artwork",file:e||null,filename:null==e?void 0:e.name}]:i.fields=C(C({},i.fields),{},{new_artwork:"null"}),this.postUrl("".concat(this.host,"/api/track/batch_artwork/"),null,"api.updateTrackArtwork",i)}appendTracksToPlaylist(t,e){let{playlist_id:i}=t,r=e.map(t=>t.id);return this.postUrl("".concat(this.host,"/api/playlist/").concat(i,"/append_tracks/"),{track_ids:r},"api.appendTracksToPlaylist")}removeTracksFromPlaylist(t,e){let{playlist_id:i}=t;return this.postUrl("".concat(this.host,"/api/playlist/").concat(i,"/remove_tracks/"),{track_ids:e.map(t=>t.id)},"api.removeTracksFromPlaylist")}_getThemeRequestParams(t){let{name:e,logo:i,image:r,defaultTheme:a}=t,s={fields:{name:e,default:a||!1},attachments:[]};return null===i&&(s.fields=C(C({},s.fields),{},{logo:"null"})),null===r&&(s.fields=C(C({},s.fields),{},{image:"null"})),i&&s.attachments.push({field:"logo",file:i,filename:i.name}),r&&s.attachments.push({field:"image",file:r,filename:r.name}),s}createTheme(t,e){let{host:i}=this;return this.postUrl("".concat(i,"/api/playlisttheme/"),null,"api.createTheme",C({progressEvent:t=>{e&&e(t.percent)}},this._getThemeRequestParams(t)))}updateTheme(t,e,i){return this.patchUrl(t.url,null,"api.updateTheme",C({progressEvent:t=>{i&&i(t.percent)}},this._getThemeRequestParams(e)))}getEmailGroup(t){return this.getUrl("".concat(this.host,"/api/savedrecipients/").concat(t,"/"),null,"api.getEmailGroup").then(t=>{let{businesses:e,recipients:i}=t;if(e&&i&&e.length>0){let r=i.map(t=>{if(t.business_ids&&t.business_ids.length>0){let i=e.filter(e=>t.business_ids.indexOf(e.id)>-1);return C(C({},t),{},{businesses:i})}return t});return C(C({},t),{},{recipients:r})}return t})}loadBusinessUsers(){return this.getUrl("".concat(this.host,"/api/business_user/"),null,"api.loadBusinessUsers")}changeBusinessUser(t,e){return this.putUrl("".concat(this.host,"/api/business_user/").concat(t,"/"),e,"api.changeBusinessUser")}removeBusinessUser(t){return this.delUrl("".concat(this.host,"/api/business_user/").concat(t,"/"),"api.removeBusinessUser")}loadBusinessInvites(){return this.getUrl("".concat(this.host,"/api/invite/"),null,"api.loadInvites")}sendBusinessInvite(t){return this.postUrl("".concat(this.host,"/api/invite/bulk_create/"),t,"api.sendInvite")}resendBusinessInvite(t,e){return this.putUrl("".concat(this.host,"/api/invite/").concat(t,"/"),C(C({},e),{},{followup:!0}),"api.resendInvite")}cancelBusinessInvite(t){return this.delUrl("".concat(this.host,"/api/invite/").concat(t,"/"),"api.resendInvite")}getPane(t,e){return this.getUrl(e,null,"api.getPane",{headers:C({Accept:"application/json"},t&&{"X-Disco-GroupIDs":t})})}_buildViewUrl(t,e,i){let{host:r}=this;switch(t){case"album":return"".concat(r,"/api/search/?type=playlist&playlist_type=").concat(t,"&sort=").concat(e);case"artist":return"".concat(r,"/api/artist/search/?count=50&sort=").concat(e);case"playlist":return"".concat(r,"/api/search/?type=playlist&sort=").concat(e);case"track":return"".concat(r,"/api/search/?type=").concat(t,"&include_playlist_tracks=").concat(String(!i),"&sort=").concat(e);default:return"".concat(r,"/api/search/?sort=").concat(e)}}_excludePlaylistTypes(t,e){if(e&&e.length>0){let i=e.join(",");return t+"&exclude_playlist_types=[".concat(i,"]")}return t}_addTagsFilter(t,e){if(e){let i=e.join(",");return t+"&tags=".concat(i)}return t}getPaneUrl(t,e,i,r,a,s,n){let o=i;i||(o=e===d.RM?h.D1:h.PE);let l=r||r===h.oy,c=(0,m.xM)(t,o,l);switch(e){case d.RM:return this._buildViewUrl("track",c,n);case d.K_:{let t=this._buildViewUrl("playlist",c),e=this._excludePlaylistTypes(t,a);return this._addTagsFilter(e,s)}case d.$A:{let t=this._buildViewUrl("album",c),e=this._excludePlaylistTypes(t,a);return this._addTagsFilter(e,s)}case d.o$:return this._buildViewUrl("artist",c);case d.cp:default:{let e=t===p.FF?null:"playlist",i=this._buildViewUrl(e,c),r=this._excludePlaylistTypes(i,a);return this._addTagsFilter(r,s)}}}getPaneView(t,e,i,r,a,s,n,o){let l=this.getPaneUrl(e,i,r,a,s,n,o);return this.getUrl(l,null,"api.getPaneView",{headers:{Accept:"application/json","X-Disco-GroupIDs":t}})}getSummaryStats(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getUrl("".concat(this.host,"/api/customer_stats/summary/"),t,"api.getSummaryStats")}getChartStats(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getUrl("".concat(this.host,"/api/customer_stats/").concat(t,"/by_date/"),e,"api.getChartStats")}getCustomerStats(t,e,i){let r=R[t][e];return this.getUrl("".concat(this.host,"/api/v2/customer_stats/").concat(t,"/"),C(C({},i),{},{sort:'["-'.concat(r,'"]')}),"api.getCustomerStats")}getPlaylistReport(t){return this.getUrl("".concat(this.host,"/api/customer_reports/"),t,"api.getPlaylistReport")}deleteTrackFormat(t,e){return this.postUrl("".concat(this.host,"/api/track/").concat(t,"/formats/"),{delete:[e]},"api.deleteTrackFormat")}bulkDeleteTracks(t,e,i,r){let a=n()();return this.postUrl("".concat(this.host,"/api/track/batch_delete/"),{track_ids:t,source:e,pv:i||void 0,cuid:a,delete_nested:r},"api.bulkDeleteTracks")}bulkDeletePlaylists(t){return this.postUrl("".concat(this.host,"/api/playlist/batch_delete/"),t,"api.bulkDeletePlaylists")}getTags(){return this.getUrl("".concat(this.host,"/api/tag/"),null,"api.getTags")}bulkUpdatePlaylistTags(t,e){return this.postUrl("".concat(this.host,"/api/playlist/alter_tags/"),{playlist_ids:t,update_tags:e},"api.updatePlaylistsTags")}getNativeTags(){return this.getUrl("".concat(this.host,"/api/native_tag/"),null,"api.getNativeTags")}createCustomNativeTag(t,e){return this.postUrl("".concat(this.host,"/api/native_tag/"),{name:t,category_id:e},"api.createCustomNativeTag")}editCustomNativeTag(t,e){return this.patchUrl("".concat(this.host,"/api/native_tag/").concat(t,"/"),e,"api.editCustomNativeTag")}deleteCustomNativeTag(t){return this.delUrl("".concat(this.host,"/api/native_tag/").concat(t,"/"),"api.deleteCustomNativeTag")}applyNativeTagsToTracks(t,e,i){return this.postUrl("".concat(this.host,"/api/native_tag/apply_to_tracks/"),{track_ids:t,tag_ids_to_add:e,tag_ids_to_remove:i},"api.applyNativeTagsToTracks")}getArtists(t,e){let i={count:50,q:t,exclude_related:1};return e&&(i=C(C({},i),{},{[e]:1})),this.getUrl("".concat(this.host,"/api/artist/search/"),i,"api.getArtists")}getRelatedArtists(t){return this.getUrl("".concat(this.host,"/api/artist/search/"),{count:1e3,related_to:t},"api.getRelatedArtists")}getArtist(t){return this.getUrl("".concat(this.host,"/api/artist/").concat(t,"/"),null,"api.getArtist")}getArtistShowcases(t){return this.getUrl("".concat(this.host,"/api/search/"),{artist_id:t,is_showcase:!0,type:"playlist"},"api.getArtistShowcases")}getArtistTracks(t){return this.getUrl("".concat(this.host,"/api/v2/artist/").concat(t,"/tracks/"),{count:50},"api.getArtistTracks")}updateArtist(t,e){return this.patchUrl("".concat(this.host,"/api/artist/").concat(t,"/"),e,"api.updateArtist")}updateArtistImage(t,e,i){let r={fields:{},progressEvent:t=>{i&&i(t.percent)}};return null===e?r.fields=C(C({},r.fields),{},{image:"None"}):e&&(r.attachments=[{field:"image",file:e,filename:e.name}]),this.patchUrl("".concat(this.host,"/api/artist/").concat(t,"/image/"),null,"api.updateArtistImage",r)}artistSignup(t){return this.postUrl("".concat(this.host,"/api/artist_signup/"),t,"api.artistSignup")}createClientLibrary(t){return this.postUrl("".concat(this.host,"/api/client_library/"),t,"api.createClientLibrary")}deleteClientLibrary(t){return this.delUrl("".concat(this.host,"/api/client_library/").concat(t,"/"),"api.deleteClientLibrary")}getClientLibraries(t){let e=null;return t&&(e={count:t}),this.getUrl("".concat(this.host,"/api/client_library/"),e,"api.getClientLibraries")}getClientLibrary(t){return this.getUrl("".concat(this.host,"/api/client_library/").concat(t,"/"),null,"api.getClientLibrary")}updateClientLibrary(t,e){return this.patchUrl("".concat(this.host,"/api/client_library/").concat(t,"/"),e,"api.updateClientLibrary")}updateClientLibraryImages(t,e,i){let r={fields:{},progressEvent:t=>{i&&i(t.percent)}},a={image_banner:e.image_banner_url,image_logo:e.image_logo_url};return Object.keys(a).forEach(t=>{let e=a[t];null===e?r.fields=C(C({},r.fields),{},{[t]:"None"}):e&&e.name&&(r.attachments=[...r.attachments||[],{field:t,file:e,filename:e.name}])}),this.patchUrl("".concat(this.host,"/api/client_library/").concat(t,"/image/"),null,"api.updateClientLibraryImages",r)}getClientLibraryContent(t){return this.getUrl("".concat(this.host,"/api/client_library/").concat(t,"/content/"),null,"api.getClientLibraryContent")}alterClientLibraryGroups(t,e,i){return this.postUrl("".concat(this.host,"/api/client_library/").concat(t,"/content/alter_discogroups/"),{to_add:e,to_remove:i},"api.alterClientLibraryGroups")}getClientLibraryArtists(t,e,i){return this.getUrl("".concat(this.host,"/api/artist/search/"),{count:50,client_library_id:t,exclude_related:1,is_featured:i,q:e},"api.getClientLibraryArtists")}getClientLibraryArtist(t,e){return this.getUrl("".concat(this.host,"/api/client_library/").concat(t,"/artist/").concat(e,"/"),null,"api.getClientLibraryArtist")}updateClientLibraryArtist(t,e,i){return this.patchUrl("".concat(this.host,"/api/client_library/").concat(t,"/artist/").concat(e,"/"),i,"api.updateClientLibraryArtist")}getClientLibraryArtistTracks(t,e){return this.getUrl("".concat(this.host,"/api/client_library/").concat(t,"/artist/").concat(e,"/track/"),{count:50},"api.getClientLibraryArtistTracks")}updateClientLibraryArtistTracks(t,e,i){return this.patchUrl("".concat(this.host,"/api/client_library/").concat(t,"/set_artist_tracks/"),{artist_id:e,track_ids:i},"api.updateClientLibraryArtistTracks")}getClientLibraryPlaylists(t,e,i,r){return this.getUrl("".concat(this.host,"/api/search/"),{client_library_id:t,is_featured:r,playlist_type:e,q:i,return_tracks_artworks:1,type:"playlist"},"api.getClientLibraryPlaylists")}alterClientLibraryPlaylists(t,e,i){return this.postUrl("".concat(this.host,"/api/client_library/").concat(t,"/playlist/alter_playlists/"),{to_add:e,to_remove:i},"api.alterClientLibraryPlaylists")}alterClientLibraryFeaturedPlaylists(t,e,i){return this.postUrl("".concat(this.host,"/api/client_library/").concat(t,"/alter_featured_playlists/"),{to_add:e,to_remove:i},"api.alterClientLibraryFeaturedPlaylists")}setClientLibraryFeaturedPlaylists(t,e){return this.patchUrl("".concat(this.host,"/api/client_library/").concat(t,"/set_featured_playlists/"),e,"api.setClientLibraryFeaturedPlaylists")}setClientLibraryFeaturedArtists(t,e){return this.patchUrl("".concat(this.host,"/api/client_library/").concat(t,"/set_featured_artists/"),{artist_ids:e},"api.setClientLibraryFeaturedArtists")}getClientLibraryTracks(t,e,i){return this.getUrl("".concat(this.host,"/api/search/"),{client_library_id:t,count:i?1e3:void 0,is_featured:i,type:"track",q:e},"api.getClientLibraryTracks")}alterClientLibraryFeaturedTracks(t,e,i){return this.postUrl("".concat(this.host,"/api/client_library/").concat(t,"/alter_featured_tracks/"),{to_add:e,to_remove:i},"api.alterClientLibraryFeaturedTracks")}setClientLibraryFeaturedTracks(t,e){return this.patchUrl("".concat(this.host,"/api/client_library/").concat(t,"/set_featured_tracks/"),{track_ids:e},"api.setClientLibraryFeaturedTracks")}getClientLibraryClients(t){return this.getUrl("".concat(this.host,"/api/client_library/").concat(t,"/client/"),null,"api.getClientLibraryClients")}inviteClientLibraryClients(t,e){return this.postUrl("".concat(this.host,"/api/client_library/").concat(t,"/client/"),e,"api.inviteClientLibraryClients")}resendClientLibraryInvite(t,e){return this.postUrl("".concat(this.host,"/api/client_library/").concat(t,"/client/").concat(e,"/resend/"),null,"api.resendClientLibraryInvite")}deleteClientLibraryClient(t,e){return this.delUrl("".concat(this.host,"/api/client_library/").concat(t,"/client/").concat(e,"/"),"api.deleteClientLibraryClient")}updateClientLibraryClient(t,e,i){return this.patchUrl("".concat(this.host,"/api/client_library/").concat(t,"/client/").concat(e,"/"),i,"api.updateClientLibraryClient")}getClientLibraryStats(t,e){return this.getUrl("".concat(this.host,"/api/client_library/").concat(t,"/stats/"),e,"api.getClientLibraryStats")}getClientLibraryDiscoveryPanel(t,e,i,r){let a={count:i||18,q:t||""};return e&&(a=C(C({},a),{},{filter:e})),r&&(a=C(C({},a),{},{sort:r})),this.getUrl("".concat(this.host,"/api/client_library_discovery_panel/"),a,"api.getClientLibraryDiscoveryPanel")}clientLibraryDiscoveryPanelFavorite(t,e){return this.postUrl("".concat(this.host,"/api/client_library_discovery_panel/").concat(t,"/favorite/"),{is_favorite:e},"api.clientLibraryDiscoveryPanelFavorite")}clientLibraryDiscoveryPanelRequestAccess(t){return this.postUrl("".concat(this.host,"/api/client_library_discovery_panel/").concat(t,"/request_access/"),null,"api.clientLibraryDiscoveryPanelRequestAccess")}getClientLibraryDiscoveryPanelSet(){return this.getUrl("".concat(this.host,"/api/client_library_discovery_panel_set/"),null,"api.getClientLibraryDiscoveryPanelSet")}clientLibraryCuratedPlaylists(){return this.getUrl("".concat(this.host,"/api/client_library_curated_playlist/"),null,"api.clientLibraryCuratedPlaylists")}importContacts(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return this.postUrl("".concat(this.host,"/api/contact/bulk_import/?accept_deferred=1"),{contacts:t,add_to_savedrecipients_id:i||void 0,is_csv:e},"api.importContacts")}updateContacts(t){let e=t.map(t=>(0,u.Z)(t,S));return this.postUrl("".concat(this.host,"/api/contact/bulk_update/"),{contacts:e},"api.updateContacts")}deleteContacts(t){return this.postUrl("".concat(this.host,"/api/contact/bulk_delete/"),{contacts:t},"api.deleteContacts")}unsubscribeContacts(t){return this.postUrl("".concat(this.host,"/api/contact/bulk_unsubscribe/"),t,"api.unsubscribeContacts")}getContacts(t,e,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;return this.getUrl("".concat(this.host,"/api/v2/contact/"),{q:t,sort:e,count:r,include_deleted:0,saved_recipients_id:i},"api.getContacts")}getContactsByIds(t){return this.getUrl("".concat(this.host,"/api/v2/contact/?ids=").concat(t.join(",")),null,"api.getContactsByIds")}getContactsIds(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"name",i=arguments.length>2?arguments[2]:void 0;return this.getUrl("".concat(this.host,"/api/v2/contact/"),{id_only:1,include_deleted:0,q:t,sort:e,saved_recipients_id:i},"api.getContactsIds")}getSingleContact(t){return this.getUrl("".concat(this.host,"/api/contact/").concat(t,"/"),null,"api.getSingleContact")}getContactDetails(t){return a().all([this.getUrl("".concat(this.host,"/api/contact/").concat(t,"/"),null,"api.getContactDetails"),this.getContactActivity(t),this.getContactNotes(t)]).then(t=>{let[e,i,r]=t;return a().resolve(C(C({},e),{},{activity:i,notes:r||[]}))})}getContactActivity(t){return this.getUrl("".concat(this.host,"/api/customer_stats/contact/?id=").concat(t),null,"api.getContactActivity")}exportContacts(t){return this.postUrl("".concat(this.host,"/api/v2/contact/export/?include_deleted=0"),{contact_ids:t},"api.exportContacts")}getContactNotes(t){return this.getUrl("".concat(this.host,"/api/contact_note/?contact=").concat(t),null,"api.getContactNotes")}addContactNote(t,e){return this.postUrl("".concat(this.host,"/api/contact_note/"),{contact:t,content:e},"api.addContactNote")}}let R={playlists:{views:"view_count",downloads:"download_count"},tracks:{playbacks:"play_count",pitches:"pitch_count",downloads:"download_count"},users:{playlists:"playlist_versions_owned",activity:"all_activity"}};class M{constructor(){return M.instance.host="undefined"!=typeof window&&window.host||void 0!==i.g&&i.g.host||"",M.instance}}T(M,"instance",new x);let B=x},47346:(t,e,i)=>{i.d(e,{Z:()=>h});var r=i(44529),a=i(46348),s=i(5238),n=i(3475),o=i(53863),l=i(43047);function c(t,e,i){return(e=u(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function u(t){var e=p(t,"string");return"symbol"==typeof e?e:String(e)}function p(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class h extends r.Component{constructor(){super(...arguments),c(this,"state",{modalOpen:!1}),c(this,"openModal",()=>{this._generateZip(),this.setState({modalOpen:!0})}),c(this,"_closeModal",()=>this.setState({modalOpen:!1})),c(this,"_generateZip",()=>{this.setState({loading:!0});let t=new s.ZP,{playlistVersionId:e,selectedFormatsIds:i,sectionId:r,object_url:n}=this.props;return t.getCustomDownloadUrl(n||window.document.location.href,e,i,r).then(t=>{let{zip_url:e}=t;if(!e)throw Error("No link to download found");this.setState({loading:!1,zipUrl:e}),a.Z.sendPureEvent("Download playlist on public page")}).catch(t=>{this.setState({loading:!1,error:t.message})})})}render(){return(0,l.jsxs)("span",{children:[(0,l.jsx)(o.Z,{appearance:this.props.appearance,onClick:this.openModal,caption:this.props.caption,disabled:this.props.disabled,className:this.props.className}),this._renderModal()]})}_renderModal(){return this.state.modalOpen?this.state.zipUrl?(0,l.jsx)(n.Z,{type:"base",onClose:this._closeModal,url:this.state.zipUrl,onClick:this.props.onDownloadClick}):this.state.loading?(0,l.jsx)(n.Z,{type:"loading",onClose:this._closeModal,url:this.state.zipUrl}):this.state.error?(0,l.jsx)(n.Z,{type:"error",onClose:this._closeModal,onClick:this._generateZip}):void 0:null}}},39284:(t,e,i)=>{i.d(e,{Z:()=>_});var r=i(88232),a=i(44529),s=i(28921),n=i(3904),o=i(12934),l=i(9285),c=i(86286),u=i(53863),p=i(77895),h=i(43047);function d(t,e,i){return(e=g(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function g(t){var e=m(t,"string");return"symbol"==typeof e?e:String(e)}function m(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function y(t,e){let i=(0,l.objectKey)(e.object);return{statusItem:t.discoAdd.addToDiscoItems[i]||{status:"NOT_ADDED"}}}a.PureComponent;let b={addToDisco:l.addToDisco};class f extends a.Component{constructor(){super(...arguments),d(this,"handleAddToDiscoClick",()=>{let{object:t}=this.props,e=this._getUrl();this.props.addToDisco(null,e,t,void 0,{shareId:this.props.shareId,playlistId:this.props.playlistId,campaignId:this.props.campaignId,recipientId:this.props.recipientId},this.props.mixpanelEventDetails)})}_getUrl(){return(0,l.getSignedPublicPageUrl)()}_renderSpinner(){return(0,h.jsx)(p.Z,{style:{margin:"initial",transformOrigin:"-0.3rem 0",transform:"scale(0.25, 0.25)"}})}render(){let{statusItem:t}=this.props,e=this.props.disabled||"ADDED"===this.props.statusItem.status;switch(t.status){case"NOT_ADDED":(0,r.default)("AddToDiscoBtn_IconImg",{disabled:e});break;case"ADDING":this._renderSpinner();break;case"ADDED":s.l_A;break;case"ERROR":{n.vVM;let{error:e}=t,i=e?e.message:"";i&&c.Z}}return(0,h.jsx)(u.Z,{appearance:this.props.appearance||"default",onClick:e?null:this.handleAddToDiscoClick,disabled:e,caption:this.props.caption,className:this.props.className})}}let _=(0,o.$j)(y,b,null,{forwardRef:!0})(f)},74064:(t,e,i)=>{i.d(e,{Z:()=>f});var r=i(88232),a=i(44529),s=i(80223),n=i(64419),o=i(7974),l=i(47346),c=i(70094),u=i(23213),p=i(21432),h=i(90968),d=i(97214),g=i(39284),m=i(43047);let y=[{value:"download",label:"Download section"},{value:"save_to_disco",label:"Save to DISCO"}],b=t=>{var e;let i=a.useRef(),b=a.useRef(),f=null===(e=(0,a.useContext)(s.N))||void 0===e?void 0:e.theme,{expanded:_,showSaveToDisco:v,section:U,onClick:P,selectionMode:k,formats:C,selectedFormats:T,onFormatClick:w,onDownload:O,disableDownload:S,tracks:E,playlist:j,zipMode:A}=t,I=null;if(!S&&j){let e=(0,o.aU)(E),r="original_else_optimized"===A?(0,o.VC)(E):(0,o.OC)(E),s=U&&(0,m.jsx)(l.Z,{playlistVersionId:j.id,selectedFormatsIds:r,sectionId:U.id,onDownloadClick:O,caption:"Download section",className:v?"content-playlist__section__header__download__hidden":void 0,ref:b}),n=t=>{"download"===t&&b.current.openModal(),"save_to_disco"===t&&i.current.handleAddToDiscoClick()};I=r.length>0&&U&&(0,m.jsx)("div",{className:"content-playlist__section__header__download",onClick:t=>t.stopPropagation(),children:v?(0,m.jsxs)(a.Fragment,{children:[(0,m.jsx)(h.Z,{media:"(max-width: 600px)",children:t=>t?(0,m.jsx)(u.Z,{compact:!0,icon:"ellipsis-vertical",options:y,onOptionClick:n,hasArrow:!1}):(0,m.jsx)(u.Z,{compact:!0,options:y,onOptionClick:n,behavior:"button-dropdown"})}),(0,m.jsx)(g.Z,{shareId:t.shareId,playlistId:j.playlist_id,campaignId:t.campaignId,recipientId:t.recipientId,object:{type:"SECTION",ids:e,section:U},ref:i,caption:"",className:"content-playlist__section__header__download__hidden"}),s]}):s})}return(0,m.jsxs)("div",{className:(0,r.default)("content-playlist__section__header",{"content-playlist__section__header--dark":"dark"===f}),onClick:P,children:[(0,m.jsxs)("div",{className:"content-playlist__section__header__text",children:[U&&!k&&(0,m.jsx)("div",{className:"content-playlist__section__header__expand",children:(0,m.jsx)(p.ZP,{type:_?"arrow-down":"arrow-right",width:24,height:24})}),(0,m.jsxs)("div",{className:"content-playlist__section__header__content",children:[(0,m.jsx)(d.Z,{className:"ContentPlaylist_Section_Header_Text content-playlist__section__header__title overflow-ellipsis",title:U?U.name:void 0,display:"block",type:"H600",children:U&&U.name}),U&&(0,m.jsx)("div",{className:(0,r.default)("PlaylistSectionHeader_SubHeader",{"PlaylistSectionHeader_SubHeader--LightTheme":"light"===f,"PlaylistSectionHeader_SubHeader--DarkTheme":"dark"===f}),children:(0,n.Ho)(E.length,"track","tracks")})]})]}),(0,m.jsxs)("div",{className:"content-playlist__section__header__actions",children:[k&&C&&T&&w&&(0,m.jsx)("div",{className:"selectable-track-formats ContentTrack_SelectableFormats",children:C.map((t,e)=>null!==t?(0,m.jsx)(c.Z,{className:"selectable-track-formats__checkbox",label:"Select all",checked:T.includes(t),onChange:()=>w(t)},t):(0,m.jsx)("label",{className:"selectable-track-formats__checkbox",children:"\xa0"},"whitespace-".concat(e)))}),I]})]})},f=b},98679:(t,e,i)=>{i.d(e,{P_:()=>r,xR:()=>a});let r="storage",a="user"},54397:(t,e,i)=>{i.d(e,{jH:()=>a});let r={intro_tour_launch:"Launch intro tour",intro_tour_disco_uploader_launch:"Launch intro tour (DISCO uploader)",intro_tour_shortlists_launch:"Launch intro tour (Shortlists)",intro_tour_sharing_launch:"Launch intro tour (Sharing)",intro_tour_complete:"Complete intro tour",intro_tour_disco_uploader_complete:"Complete intro tour (DISCO uploader)",intro_tour_shortlists_complete:"Complete intro tour (Shortlists)",intro_tour_sharing_complete:"Complete intro tour (Sharing)",intro_tour_skip:"Skip intro tour",intro_tour_disco_uploader_skip:"Skip intro tour (DISCO uploader)",intro_tour_shortlists_skip:"Skip intro tour (Shortlists)",intro_tour_sharing_skip:"Skip intro tour (Sharing)",CREATE_SHOWCASE_TOUR_LAUNCH:"Launch create showcase tour",CREATE_SHOWCASE_TOUR_COMPLETE:"Complete create showcase tour"};function a(t){return r[t]||t}},9693:(t,e,i)=>{i.d(e,{$E:()=>R,$l:()=>w,$m:()=>S,B5:()=>p,BH:()=>h,E3:()=>s,Eh:()=>M,FS:()=>tt,FY:()=>C,FZ:()=>U,IC:()=>N,Jw:()=>te,KY:()=>d,LJ:()=>a,Li:()=>F,Os:()=>k,Rr:()=>K,Sd:()=>j,Tu:()=>$,U_:()=>V,V1:()=>y,VI:()=>O,W_:()=>W,Wq:()=>D,Ws:()=>u,XB:()=>z,Xz:()=>o,Yu:()=>P,_F:()=>Q,_q:()=>E,eQ:()=>b,fe:()=>v,gx:()=>q,hc:()=>m,hn:()=>I,mE:()=>X,mL:()=>Y,px:()=>x,q5:()=>_,r4:()=>H,rJ:()=>f,rn:()=>B,t4:()=>r,t7:()=>n,uU:()=>c,uq:()=>G,vQ:()=>A,vR:()=>Z,we:()=>l,ww:()=>L,wy:()=>J,y9:()=>T,yF:()=>g});let r="CONVERT_WAV_AIFF",a="CUSTOM_DOWNLOAD_FILE_NAMES",s="INITIAL_IMPORT",n="COLOR_INDICATORS",o="ONGOING_DDEX",l="TRANSCODE_320K",c="ASSIGN_URL_TO_CONTACTS",u="CLIENT_FACING_LIBRARY",p="COPY_TRACKLIST",h="CUSTOM_FORMAT_SETTINGS",d="CUSTOMIZABLE_PLAYLIST_DESIGN",g="DISCO_FOOTER_REMOVED",m="EMAIL_CAMPAIGN_BUILDER",y="EMAIL_THROUGH_DISCO_BUSINESSES",b="FEATURE_ARTWORK_ON_PLAYLIST",f="KILL_URLS",_="MARKETING_MESSAGE_REMOVED",v="METADATA_ALIAS_BATCH_EDITING",U="METADATA_ALIAS_INDIVIDUAL_EDITING",P="PASSWORD_PROTECTION",k="PLAYLIST_SECURITY",C="PLAYLIST_THEMES_LIMITED",T="PLAYLIST_THEMES_UNLIMITED",w="SHAREABLE_CHANNELS",O="SHARE_EMAIL_TEMPLATE_OPTIONS",S="CUSTOM_INBOXES",E="URL_EXPIRY_DATE",j="ADVANCED_SEARCH",A="CHANNELS_LIMITED",I="CHANNELS_UNLIMITED",D="PLAYLIST_TAGS",L="TERRITORY_RESTRICTIONS",N="CONTACT_CUSTOM_FIELDS",x="CONTACT_DATABASE_BASIC",R="CONTACT_NOTES",M="PLAYLIST_STATS_BASIC",B="PLAYLIST_STATS_WITH_HOVER",F="ANALYTICS_LIMITED",G="ANALYTICS_UNLIMITED",Z="REPORTS_ADVANCED",q="REPORTS_BASIC",H="ADMIN_PERMISSION_MANAGEMENT_MEDIUM_LEVEL",V="ADMIN_PERMISSIONS_MANAGEMENT_ADVANCED",z="DEEP_SECURITY",Y="PLAYLIST_ORGANIZATION_EXPOSED",W="SINGLE_SIGN_ON",K="IS_SUBSCRIBER",X="DEDICATED_ACCOUNT_MANAGER",J="IN_PERSON_TRAINING",$="MESSENGER_EXPRESS",Q="MESSENGER_PRIORITY",tt="SCREENSHARE_TRAINING",te="UNLIMITED_TRAINING"},81085:(t,e,i)=>{i.d(e,{EJ:()=>n,FE:()=>o,FF:()=>s,K9:()=>r,ZB:()=>u,bT:()=>a,c$:()=>p,jQ:()=>c,xE:()=>l});let r="system",a="library",s="user",n="inbox",o="system_inbox",l="custom_inbox",c="territory",u=[n,o,l],p=3},40706:(t,e,i)=>{i.d(e,{IK:()=>a,R0:()=>r,oG:()=>n,zg:()=>s}),i(42961).FILE;let r="artist",a="track",s="playlist",n="group"},53001:(t,e,i)=>{i.d(e,{sm:()=>r});let r="searchResults"},7855:(t,e,i)=>{i.d(e,{D1:()=>r,FR:()=>s,PE:()=>a,U9:()=>o,Vi:()=>u,bE:()=>c,jE:()=>l,oy:()=>n});let r="created",a="date",s="name",n="SORT_DIRECTION_ASC",o="SORT_DIRECTION_DESC",l="CHANNEL_DATE_SORT",c="CHANNEL_TITLE_SORT",u="CHANNEL_CUSTOM_SORT",p=[{value:"name",text:"name"},{value:"date",text:"date"},{value:"score",text:"relevance"}];p.map(t=>t.value),[...p]},61877:(t,e,i)=>{i.d(e,{$A:()=>n,K_:()=>a,RM:()=>s,cp:()=>r,o$:()=>o});let r="DEFAULT_VIEW",a="PLAYLIST_VIEW",s="TRACK_VIEW",n="ALBUM_VIEW",o="ARTIST_VIEW"},63934:(t,e,i)=>{i.d(e,{Z:()=>h});var r=i(8173),a=i(31250);function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function n(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach(function(e){o(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function o(t,e,i){return(e=l(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function l(t){var e=c(t,"string");return"symbol"==typeof e?e:String(e)}function c(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function u(t,e,i){return n(n({},t),{},{addToDiscoItems:n(n({},t.addToDiscoItems),{},{[e]:i})})}let p={addToDiscoItems:{},addToDiscoModal:null};function h(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case a.FZe:{let i={};return e.destBusiness&&(i={addToDiscoModal:n(n({},t.addToDiscoModal),{},{shown:!1})}),n(n({},u(t,e.objectKey,{status:"ADDING",destBusiness:e.destBusiness})),i)}case a.Iow:return n(n({},u(t,e.objectKey,{status:"NOT_ADDED",destBusiness:e.destBusiness})),{},{addToDiscoModal:{businesses:(0,r.Z)(e.businesses,"id"),object:e.object,mixpanelEventDetails:null==e?void 0:e.mixpanelEventDetails,shown:!0}});case a.CzB:return n(n({},t),{},{addToDiscoModal:null});case a.GKq:{let i={};return e.showModalSuccessDialog&&(i={addToDiscoModal:{success:!0,shown:!0}}),n(n(n({},u(t,e.objectKey,{status:"ADDED",destBusiness:e.destBusiness})),i),{},{redirect_url:e.redirect_url})}case a.OTe:{let i={};return i="ADD_TO_DISCO_ERROR_UNAUTHORIZED"===e.error.code?{addToDiscoModal:{businesses:[],object:e.object,mixpanelEventDetails:null==e?void 0:e.mixpanelEventDetails,shown:!0}}:e.error.code?{addToDiscoModal:n(n({},t.addToDiscoModal),{},{shown:!0})}:{addToDiscoModal:null},n(n({},u(t,e.objectKey,{status:"ERROR",error:e.error,object:e.object,mixpanelEventDetails:null==e?void 0:e.mixpanelEventDetails,destBusiness:e.destBusiness})),i)}case a.zmn:return n(n({},t),{},{addToDiscoModal:n(n({},t.addToDiscoModal),{},{shown:!0})});default:return t}}},41878:(t,e,i)=>{i.d(e,{W_:()=>h,l9:()=>u});var r=i(3336);function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach(function(e){n(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function n(t,e,i){return(e=o(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t){var e=l(t,"string");return"symbol"==typeof e?e:String(e)}function l(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function c(t){return s(s({},t.entities.emailCampaigns),{},{emailCampaigns:Object.values(t.entities.emailCampaigns.emailCampaigns)})}function u(t,e){let{campaignId:i}=e;return t.entities.emailCampaigns.emailCampaigns[i]}function p(t){return t.emailCampaigns.campaignList}function h(t){return t.emailCampaigns.recipientRules}(0,r.P1)(c,p,(t,e)=>null===e.typeFilter?t:s(s({},t),{},{emailCampaigns:t.emailCampaigns.filter(t=>t.type===e.typeFilter)})),(0,r.P1)(t=>t.emailCampaigns.campaignEditor,t=>{let e=t.sections.findIndex(t=>t.editMode);return e<0?null:{sectionIndex:e,section:t.sections[e]}})},74311:(t,e,i)=>{i.d(e,{XM:()=>S});var r=i(3336),a=i(7855),s=i(41878),n=i(73913),o=i(5398),l=i(26655),c=i(76541),u=i(9462);function p(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function h(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?p(Object(i),!0).forEach(function(e){d(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function d(t,e,i){return(e=g(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function g(t){var e=m(t,"string");return"symbol"==typeof e?e:String(e)}function m(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}let y=[],b=t=>t.entities.pro,f=t=>t.entities.publishers,_=t=>t.map(t=>({label:t.name,value:t.id.toString()}));(0,r.P1)(b,t=>_(t)),(0,r.P1)(f,t=>_(t));let v=t=>t.entities.contacts,U=t=>v(t).contacts;(0,r.P1)([v],t=>{let e=t.loaded&&!t.loading&&!t.next;return e}),(0,r.P1)([U,t=>v(t).ids],(t,e)=>{let i=e.map(e=>t.find(t=>t.id===e)||{id:e,loaded:!1});return i});let P=(0,r.P1)(U,t=>t.filter(t=>t.editMode));(0,r.P1)(P,t=>(0,u.U)(t)),(0,r.P1)(P,t=>t.length>1);let k=(0,r.P1)([v,(t,e)=>e&&e.list,(t,e)=>e&&e.appendingContacts],(t,e,i)=>{let r=t.contacts;if(!e)return r;{let t=[];return(e.recipients.forEach(e=>{e.contact&&t.push(e.contact.id)}),i)?r.filter(i=>!(t.includes(i.id)||e.recipients.find(t=>t.email===i.email))).filter(t=>t.email):r.filter(i=>t.includes(i.id)||e.recipients.find(t=>t.email===i.email))}});(0,r.P1)(k,t=>t.filter(t=>!t.deleted).map(t=>({label:t.name||t.email,value:t.id.toString()})));let C=(t,e,i,r,s)=>{let n=r===a.oy?-1:1,o=r===a.oy?1:-1,l=t=>{if("Status"===i)return(0,c.z)(t,e&&e.id);let r=t[i.toLowerCase()];return(Array.isArray(r)?r.join(", "):r||"").trim()},u=s?s.toLowerCase().trim().replace(/\s+/gi," ").split(" "):[],p=u.length>0?t.slice().filter(t=>{if(!t)return!1;let e="";t.custom_data&&Object.keys(t.custom_data).length>0&&(e=Object.values(t.custom_data).filter(t=>"string"==typeof t&&t.trim().length>0).join(" "));let i="".concat(t.name," ").concat(t.email," ").concat(t.phone," ").concat(t.company," ").concat(t.territory," ").concat(e," ").concat((t.tags||[]).join(", ")).toLowerCase();return!u.some(t=>!i.includes(t))}):t.slice();return p.sort((t,e)=>{let i=l(t),r=l(e);return!i&&r?1:i&&!r?-1:i.toLowerCase()<r.toLowerCase()?n:i.toLowerCase()>r.toLowerCase()?o:0})},T=(0,r.P1)([k,(t,e)=>e&&e.list,t=>v(t).sortParam,t=>v(t).sortDirection,t=>v(t).searchTerm],(t,e,i,r,a)=>{let s=t.filter(t=>!t.deleted);return C(s,e,i,r,a)});(0,r.P1)([T,s.W_,o.i],(t,e,i)=>{let r={},a=t.filter(t=>!(t.unsubscribes&&t.unsubscribes.global)),s=a.filter(t=>{for(let a of e.rules){let s,n=!0,o=a.ruleValue;if("mailingList"===a.ruleType){let e=parseInt(a.ruleValue),s=i.find(t=>t.id===e);if(s){let e=s.recipients.find(e=>e.contact&&(e.contact.id===t.id||e.email===t.email)),i=t.unsubscribes&&t.unsubscribes.saved_recipients_ids.includes(s.id);n=e&&!i}else n=!1;n&&(r[t.id]=e)}else if(("tags"===a.ruleType||"type"===a.ruleType)&&o){if(n=(s=t.tags).includes(o),(n="equals"===a.ruleOp?n:!n)&&"any"===e.matchMode)return!0;if(!n&&"all"===e.matchMode)return!1}else if(o)switch(s=(t[a.ruleType]||"").toLowerCase().trim(),o=o.toLowerCase().trim(),a.ruleOp){case"contains":n=s.includes("".concat(o));break;case"notContains":n=!s.includes("".concat(o));break;case"equals":n=s===o;break;case"notEquals":n=s!==o}if(n&&"any"===e.matchMode)return!0;if(!n&&"all"===e.matchMode)return!1}return"any"===e.matchMode?0===e.rules.length:"all"===e.matchMode||void 0});return{filteredContacts:s,associatedLists:r}});let w=(t,e)=>{let i=(0,l.OE)(t,e);return i?i.track_writers:y},O=(t,e,i,r)=>t?t.map(t=>h(h({},t),{},{pro:i.find(e=>e.id===t.pro),publisher:r.find(e=>e.id===t.publisher),writer:e.find(e=>e.id===t.writer)})).filter(t=>t.writer):y,S=(0,r.P1)([w,k,b,f],(t,e,i,r)=>O(t,e,i,r)),E=(0,r.P1)([n.w,k,b,f],(t,e,i,r)=>O(t,e,i,r));(0,r.P1)(E,t=>t.map(t=>t.writer.id)),(0,r.P1)(k,t=>t.filter(t=>t.selected));let j=t=>t.forms.listForm.recipientBusinesses,A=(0,r.P1)(k,t=>t.forms.listForm.recipients,(t,e)=>t.filter(t=>e.includes(t.id)));(0,r.P1)(A,j,(t,e)=>t.map(t=>{if(!t.disco_user)return t;let i=e[t.id];if(!i)return t;let r=Object.keys(i).map(t=>parseInt(t));return h(h({},t),{},{disco_user:h(h({},t.disco_user),{},{business_ids:r})})})),(0,r.P1)(k,t=>t.forms.listForm.lastImportContactIds,(t,e)=>t.filter(t=>e.includes(t.id))),(0,r.P1)(k,j,(t,e)=>Object.keys(e).map(i=>{let r=parseInt(i),a=e[r],s=t.find(t=>t.id===r);return s&&s.disco_user?{id:r,name:s.name||s.email,businesses:s.disco_user.businesses.map(t=>h(h({},t),{},{checked:a[t.id]}))}:null}).filter(Boolean)),(0,r.P1)([s.l9,v],(t,e)=>{if(0===t.recipients_list.length)return null;let i=e.contacts.find(e=>e.id===t.recipients_list[0].id);return i}),(0,r.P1)([v,U],(t,e)=>{let i=t.warning;return e.find(t=>t.id===i)})},73913:(t,e,i)=>{i.d(e,{w:()=>n});var r=i(57129),a=i(3336);let s=t=>t.server.editedTrack;(0,a.P1)([t=>s(t).metadata,t=>t.server.originalEditedTrackMetadata],(t,e)=>!(0,r.Z)(t,e));let n=t=>s(t).track_writers},5398:(t,e,i)=>{i.d(e,{i:()=>r});let r=t=>t.emailGroups.emailGroups},64160:(t,e,i)=>{i.d(e,{du:()=>y});var r=i(54513),a=i(3336),s=i(26655);function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach(function(e){l(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function l(t,e,i){return(e=c(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function c(t){var e=u(t,"string");return"symbol"==typeof e?e:String(e)}function u(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}let p=[],h=t=>t.shortlists.byId,d=t=>t.some(t=>g(t)),g=t=>{var e,i;return(null!==(e=null===(i=t.tempItems)||void 0===i?void 0:i.length)&&void 0!==e?e:0)>0},m=(t,e)=>{let{id:i}=e;return t.shortlists.byId[i]},y=(0,a.P1)([s.KJ,m],(t,e)=>{var i;return e?o(o({},e),{},{items:(null!==(i=e.items)&&void 0!==i?i:[]).map(e=>o(o({},e),{},{track:e.track.tempId?e.track:t[e.track.id]}))}):null}),b=(t,e)=>{var i,r;return null!==(i=null===(r=t.shortlists.byId[e.shortlistId])||void 0===r?void 0:r.items)&&void 0!==i?i:p};(0,a.P1)([s.KJ,b],(t,e)=>e.map(e=>e.track.tempId?e.track:t[e.track.id])),(0,a.P1)(h,t=>{let e=Object.keys(t).map(e=>t[e]);return d(e)}),(0,a.P1)([y],t=>!!t&&g(t)),(0,a.P1)([h],t=>{let e=Object.keys(t).map(e=>t[e]),i=(0,r.Z)(e.map(t=>t.items.map(t=>t.track.id)));return i}),(0,a.P1)([t=>t.shortlists.items,h],(t,e)=>t.map(t=>e[t]).filter(Boolean)),(0,a.P1)([y,(t,e)=>e.tempItemId],(t,e)=>{var i;return(null!==(i=null==t?void 0:t.tempItems)&&void 0!==i?i:[]).find(t=>t.tempId===e)}),(0,a.P1)([m],t=>t?t.items.filter(t=>t.tempId).map(t=>t.tempId):p),(0,a.P1)([h,s.KJ,(t,e)=>e.tempItemId],(t,e,i)=>{if(!i)return null;let a=Object.keys(t).map(e=>t[e]),s=(0,r.Z)(a.map(t=>t.tempItems)),n=s.find(t=>t.tempId===i),o=(0,r.Z)(a.map(t=>t.items.map(t=>t.track))),l=o.find(t=>t.tempId===i||t.uploadId===i);return l?l.id?e[l.id]:n:null})},66502:(t,e,i)=>{i.d(e,{nC:()=>p});var r=i(45307),a=i(3336),s=i(13245);function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach(function(e){l(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function l(t,e,i){return(e=c(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function c(t){var e=u(t,"string");return"symbol"==typeof e?e:String(e)}function u(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}let p=(0,a.P1)(t=>t.entities.playlistTags,t=>Object.values(t).sort(s.a));(0,a.P1)(p,t=>t.map(t=>t.name));let h=(0,a.P1)(t=>t.entities.nativeCategories,t=>t.entities.nativeTags,(t,e)=>Object.values(t).sort(s.a).map(t=>o(o({},t),{},{native_tags:t.native_tags.map(t=>e[t]).sort(s.a)})));(0,a.P1)(t=>t.entities.nativeCategories,t=>t.entities.nativeTags,(t,e)=>Object.values(e).sort(s.a).map(e=>o(o({},e),{},{category:t[e.category_id]}))),(0,a.P1)([h],t=>(0,r.Z)(t,t=>t.native_tags.map(e=>o(o({},e),{},{category:t}))))},9477:(t,e,i)=>{i.d(e,{B5:()=>s,Vp:()=>a,lu:()=>r});let r=t=>{var e=t.match(/^#([0-9a-f]{3})$/i);if(e)return[17*parseInt(e[1].charAt(0),16),17*parseInt(e[1].charAt(1),16),17*parseInt(e[1].charAt(2),16)];if(e=t.match(/^#([0-9a-f]{6})$/i))return[parseInt(e[1].substr(0,2),16),parseInt(e[1].substr(2,2),16),parseInt(e[1].substr(4,2),16)];if(e=t.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i))return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])];throw Error("parseColor: Unknown color format: "+t)},a=t=>"rgb(".concat(t.join(","),")"),s=(t,e,i)=>[Math.round(t[0]*i+e[0]*(1-i)),Math.round(t[1]*i+e[1]*(1-i)),Math.round(t[2]*i+e[2]*(1-i))]},76541:(t,e,i)=>{function r(t,e){let{unsubscribes:i}=t;return i?i.global?"2_UNSUBSCRIBE_ALL":e&&i.saved_recipients_ids.includes(e)?"1_UNSUBSCRIBED_THIS":"0_SUBSCRIBED":"0_SUBSCRIBED"}i.d(e,{z:()=>r})},50899:(t,e,i)=>{function r(){return parseFloat(getComputedStyle(document.documentElement).fontSize)}function a(t){return t*r()}function s(){return"undefined"!=typeof window&&window.pageXOffset||document.documentElement&&document.documentElement.scrollLeft||0}function n(){return"undefined"!=typeof window&&window.pageYOffset||document.documentElement&&document.documentElement.scrollTop||0}i.d(e,{Mv:()=>n,fh:()=>a,yX:()=>s})},62865:(t,e,i)=>{i.d(e,{gX:()=>l});let r=[{name:"Test Sole User Unlim",handle:"test-sole-user-lite",cost:29,maxUsers:999,maxFiles:999999,paymentLinks:{audMonthly:"https://disco-aud-clone.chargifypay.com/subscribe/b9cwp4zq5cvc/test-sole-user-lite",audAnnual:"https://disco-aud-clone.chargifypay.com/subscribe/b9cwp4zq5cvc/test-sole-user-lite",usdMonthly:"https://disco-aud-clone.chargifypay.com/subscribe/b9cwp4zq5cvc/test-sole-user-lite",usdAnnual:"https://disco-aud-clone.chargifypay.com/subscribe/b9cwp4zq5cvc/test-sole-user-lite"},presentation:{accentColor:"#3D57A8"}}],a=[{name:"Sole User Starter",handle:"sole-user-starter",cost:10,maxUsers:1,maxFiles:500,paymentLinks:{audMonthly:"https://disco-aud.chargifypay.com/subscribe/r5mhdsjcnxwp/sole-user-starter-monthly-aud",audAnnual:"https://disco-aud.chargifypay.com/subscribe/6kyj374vddmx/sole-user-starter-annual-aud",usdMonthly:"https://disco-usd.chargifypay.com/subscribe/n5xz3v8n62sv/sole-user-starter-monthly-usd",usdAnnual:"https://disco-usd.chargifypay.com/subscribe/8xf2qsr2rj7c/sole-user-starter-annual-usd"},presentation:{accentColor:"#3D57A8"}},{name:"Sole User Small",handle:"sole-user-small",cost:15,maxUsers:1,maxFiles:1e3,paymentLinks:{audMonthly:"https://disco-aud.chargifypay.com/subscribe/djdgmqjj4q3v/sole-user-small-monthly-aud",audAnnual:"https://disco-aud.chargifypay.com/subscribe/7h86yjwst46q/sole-user-small-annual-aud",usdMonthly:"https://disco-usd.chargifypay.com/subscribe/k8hccm2bg9pd/sole-user-small-monthly-usd",usdAnnual:"https://disco-usd.chargifypay.com/subscribe/n5xx7bjbndvz/sole-user-small-annual-usd"},presentation:{accentColor:"#3CB8DB"}},{name:"Sole User Lite",handle:"sole-user-lite",cost:29,maxUsers:1,maxFiles:2500,paymentLinks:{audMonthly:"https://disco-aud.chargifypay.com/subscribe/zt97szrbv2cs/sole-user-lite-new-monthly-aud",audAnnual:"https://disco-aud.chargifypay.com/subscribe/zxttjw3pqkxx/sole-user-lite-new-annual-aud",usdMonthly:"https://disco-usd.chargifypay.com/subscribe/fp83pyqnwxqr/sole-user-lite-new-monthly-usd",usdAnnual:"https://disco-usd.chargifypay.com/subscribe/6tqbjg68qyfp/sole-user-lite-new-annual-usd"},presentation:{accentColor:"#3CB8DB"}},{name:"Sole User Pro",handle:"sole-user-custom",cost:29,isSoleUserCustom:!0,maxUsers:null,maxFiles:null,description:"Have more than 2500 tracks, or are a music supervisor?",paymentLinks:{audMonthly:null,audAnnual:null,usdMonthly:null,usdAnnual:null},presentation:{accentColor:"#33B57C"}}],s=[{name:"Teams Lite",handle:"teams-lite",cost:49,maxUsers:2,maxFiles:2500,paymentLinks:{audMonthly:"https://disco-aud.chargifypay.com/subscribe/nvdk8dhzwrcn/teams-lite-new-monthly-aud",audAnnual:"https://disco-aud.chargifypay.com/subscribe/xhztwv2kyv3v/teams-lite-new-annual-aud",usdMonthly:"https://disco-usd.chargifypay.com/subscribe/9fn743zjgjfk/teams-lite-new-monthly-usd",usdAnnual:"https://disco-usd.chargifypay.com/subscribe/n6xrfkh5yp2k/teams-lite-new-annual-usd"},presentation:{accentColor:"#3D57A8"}},{name:"Teams Basic",handle:"teams-basic",cost:99,maxUsers:3,maxFiles:1e4,paymentLinks:{audMonthly:"https://disco-aud.chargifypay.com/subscribe/2fv6xnbp6qjx/teams-basic-new-monthly-aud",audAnnual:"https://disco-aud.chargifypay.com/subscribe/8qc3xvxrxykj/teams-basic-new-annual-aud",usdMonthly:"https://disco-usd.chargifypay.com/subscribe/ss9dh9jz2249/teams-basic-new-monthly-usd",usdAnnual:"https://disco-usd.chargifypay.com/subscribe/gbk33hkhcd28/teams-basic-new-annual-usd"},presentation:{accentColor:"#3CB8DB"}},{name:"Teams Plus",handle:"teams-plus",cost:149,maxUsers:5,maxFiles:2e4,paymentLinks:{audMonthly:"https://disco-aud.chargifypay.com/subscribe/y588s9cr6ydk/teams-plus-new-monthly-aud",audAnnual:"https://disco-aud.chargifypay.com/subscribe/xwzcr66kg5v6/teams-plus-new-annual-aud",usdMonthly:"https://disco-usd.chargifypay.com/subscribe/935mq7jrrmvk/teams-plus-new-monthly-usd",usdAnnual:"https://disco-usd.chargifypay.com/subscribe/g7rfff8nzrkw/teams-plus-new-annual-usd"},presentation:{accentColor:"#33B57C"}},{name:"Teams Pro",handle:"teams-pro",cost:249,maxUsers:7,maxFiles:35e3,paymentLinks:{audMonthly:"https://disco-aud.chargifypay.com/subscribe/mjytcd8krwz9/teams-pro-new-monthly-aud",audAnnual:"https://disco-aud.chargifypay.com/subscribe/vtvqfmg6m8yk/teams-pro-new-annual-aud",usdMonthly:"https://disco-usd.chargifypay.com/subscribe/4ppqj2w28nxn/teams-pro-new-monthly-usd",usdAnnual:"https://disco-usd.chargifypay.com/subscribe/jk4s8g9jns6g/teams-pro-new-annual-usd"},presentation:{accentColor:"#0BCAB6"}},{name:"Enterprise",handle:"teams-enterprise",cost:249,isEnterprise:!0,maxUsers:null,maxFiles:null,paymentLinks:{audMonthly:null,audAnnual:null,usdMonthly:null,usdAnnual:null},presentation:{accentColor:"#BA82BE"}}],n=[...r,...a,...s];function o(t){return t.replace(/\b(usd|aud|eur|new|monthly|annual|\d+)|(for-payments-made-outside-chargify)\b/gi,"").replace(/(^(\-|\_)+)|((\-|\_)+$)/g,"").toLowerCase()}function l(t){if(!t)return!1;let e=o(t);switch(e){case"sole-user-starter":case"sole-user-small":case"sole-user":return!1;default:return!0}}},3893:(t,e,i)=>{i.d(e,{Rf:()=>a});var r=i(93188);let a=t=>(0,r.Z)({options:t,tokenizer:{tokenize:t=>t.split(/[^a-zа-яё0-9\-'\&]+/i).filter(t=>t)}})},13245:(t,e,i)=>{i.d(e,{a:()=>n,xM:()=>s});var r=i(81085),a=i(7855);function s(t,e,i){if(t!==r.FF)return i===a.oy?'["'.concat(e,'"]'):'["-'.concat(e,'"]');let s=[e];s[0]===a.PE&&s.push(a.D1);let n=s.map(t=>i===a.oy?'"'.concat(t,'"'):'"-'.concat(t,'"')).join(",");return'["-is_playlist",'.concat(n,"]")}let n=(t,e)=>t.name.localeCompare(e.name,"en",{sensitivity:"base"})},9462:(t,e,i)=>{i.d(e,{U:()=>n});var r=i(45307),a=i(97001);let s=[],n=t=>{let e=(0,r.Z)(t,t=>{let e=(0,a.Z)(t,"pendingChanges.tags",t.tags||[]);return e}),i={};e.forEach(t=>{i[t]=(i[t]||0)+1});let n=Object.keys(i).filter(e=>i[e]<t.length);return n.length>0?n:s}},71995:(t,e,i)=>{i.d(e,{mr:()=>s,p6:()=>n});var r=i(68945),a=i.n(r);let s=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t<3600?"mm:ss":"HH:mm:ss";return e&&(i=t<3600?"m:ss":"H:mm:ss"),a().utc(a().duration(t,"seconds").asMilliseconds()).format(i)},n=t=>t?a()(t).format("MMMM D, YYYY"):""},419:(t,e,i)=>{i.d(e,{SK:()=>g,UJ:()=>h,Vf:()=>d,X3:()=>u,_F:()=>c});var r=i(97001),a=i(44529),s=i(64419),n=i(71995),o=i(7974),l=i(43047);let c=["Formats","Composer","Grouping","Comments","Internal comments"],u=["Composer","Genre","Grouping","Year","Internal comments"];function p(t,e){let i=t.split(e);if(i.length<=1)return t;let[r,a,...s]=i;return(0,l.jsxs)("span",{children:[(0,l.jsx)("span",{children:r}),(0,l.jsx)("span",{"data-track-comment-contact-line":!0,children:a}),(0,l.jsx)("span",{children:s.join("")})]})}function h(t,e,i){let{metadata:a}=t;if(["Artist","Album","Name"].includes(e))return(0,r.Z)(t,e.toLowerCase());if("Title"===e)return(0,r.Z)(t,"name");if("PRO number"===e)return(0,r.Z)(a,"ProNumber");if("Formats"===e)return Object.keys(t.all_files||{}).join(", ").toUpperCase();if("Track order"===e){let{TrackNumber:t,Tracks:e}=a;return t?t+(e?" / ".concat(e):""):""}let{created:l,duration:c}=t;if("Length"===e)return c?(0,n.mr)(c,!0):null;if("Upload date"===e)return l?(0,n.p6)(l):null;if("Uploaded by"===e||"Created"===e){let{user:e}=t;return e?"".concat(e.first_name," ").concat(e.last_name):null}if("Comments"===e)return p((0,r.Z)(a,"Comment",""),/^((?:Please contact|Contact) .*\n)/);if("Original filename"===e||"Original name"===e){let e=(0,o.Ml)(t)||(0,o.J8)(t);return e&&t.all_files?t.all_files[e].original_name:null}let u=a[e];if(i){let t=i[e];if(t)switch(t.type){case"boolean":return(0,s.hb)(u)?"Yes":"No";case"date":return(0,n.p6)(u)}}return u}let d=t=>{let{comment:e,user:i,visibility:r}=t;return"".concat(i.first_name," (").concat(r,"): ").concat(e)},g=t=>{let{pro:e,publisher:i,split:r,writer:a}=t,s=a.name||a.email,n=r?r+"%":"";return[[s,n].join(" "),!!i&&i.name,!!e&&e.name].filter(Boolean).join(", ")}},29183:(t,e,i)=>{i.d(e,{Y3:()=>n});var r=i(12934);let a="short",s={default:[(t,e)=>t===a?"Less than a day of trial left.":"You have less than a day on your trial.",(t,e)=>t===a?"".concat(e," day").concat(e>1?"s":""," of trial left."):"You have ".concat(e," day").concat(e>1?"s":""," left on your trial."),(t,e)=>t===a?"Trial expired.":"Your trial has expired."],libraries:[(t,e)=>"You have less than a day on your Libraries trial.",(t,e)=>"You have ".concat(e," day").concat(e>1?"s":""," left on your Libraries trial."),(t,e)=>"Your Libraries trial has expired."]};function n(t,e,i){let r="",a=t;"number"==typeof t&&(a=1e3*t);let n=Date.now(),o=Math.floor((new Date(a)-n)/864e5),l=s[i||"default"];return r=0===o?l[0](e):o>=1?l[1](e,o):l[2](e,o),{message:r,expired:o<0,period:o}}},2657:(t,e,i)=>{i.d(e,{ZP:()=>v});var r=i(34454),a=i(83809),s=i(44529),n=i(45241),o=i(89874),l=i(55541),c=i(43047);let u=["style"];function p(t,e){if(null==t)return{};var i,r,a=h(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(a[i]=t[i])}return a}function h(t,e){if(null==t)return{};var i,r,a={},s=Object.keys(t);for(r=0;r<s.length;r++)i=s[r],e.indexOf(i)>=0||(a[i]=t[i]);return a}function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function g(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach(function(e){m(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function m(t,e,i){return(e=y(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function y(t){var e=b(t,"string");return"symbol"==typeof e?e:String(e)}function b(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}let f=(0,o.Kx)(100),_=(0,o.ZP)("div");(0,o.ZP)(l.aV);class v extends s.Component{constructor(){super(...arguments),m(this,"scrollbarsStyle",(0,a.Z)((t,e)=>Object.assign({},t?{height:"100%"}:void 0,e?{width:"100%"}:void 0))),m(this,"thumbStyle",(0,a.Z)((t,e)=>{let i={backgroundColor:"light"===e?"rgba(250, 250, 250, 0.5)":"rgba(50, 50, 50, 0.5)",borderRadius:"1rem",width:"6px",zIndex:1e3};return g(g({},t),i)})),m(this,"renderView",t=>this.props.dndScrolling?(0,c.jsx)(_,g(g({verticalStrength:f,strengthMultiplier:40},t),{},{className:"scrolling-component"})):(0,c.jsx)("div",g(g({},t),{},{className:"scrolling-component"}))),m(this,"renderThumb",t=>{let{style:e}=t,i=p(t,u),r=this.thumbStyle(e,this.props.color);return(0,c.jsx)("div",g({style:r},i))})}scrollTop(t){this._scrollbars&&this._scrollbars.scrollTop(t)}render(){let t=this.scrollbarsStyle(this.props.vertical,this.props.horizontal);return(0,c.jsx)(n.$B,{className:this.props.className,thumbSize:100,autoHeight:this.props.autoHeight,autoHeightMax:this.props.autoHeightMax,autoHide:this.props.autoHide,style:t,renderThumbVertical:this.renderThumb,renderThumbHorizontal:this.renderThumb,renderView:this.renderView,onScroll:this.props.onScroll,ref:t=>this._scrollbars=t,children:this.props.children})}}m(v,"defaultProps",{autoHide:!0,color:"dark",dndScrolling:!1})}}]);
//# sourceMappingURL=82-753bec373b5fa115.min.js.map